<!DOCTYPE html>

<html lang="zh-CN">

<head>
    
    <title>Gin Web Framework - 和光同尘|MarkHoo</title>
    <meta charset="UTF-8">
    <meta name="description" content="知者弗言，言者弗知。塞其兑，闭其门；挫其锐，解其纷；和其光，同其尘；是谓玄同。故不可得而亲，亦不可得而疏；不可得而利，亦不可得而害；不可得而贵，亦不可得而贱，故为天下贵。">
    <meta name="keywords" content="和光同尘,MarkHoo,沉默是金,南有嘉鱼,Python,Elixir,Golang,">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    
    

    <link rel="shortcut icon" href="https://media.markhoo.com/image/favicon24.ico" type="image/x-icon" />
    <meta name="description" content="Gin is a web framework written in Go (Golang).">
<meta property="og:type" content="article">
<meta property="og:title" content="Gin Web Framework">
<meta property="og:url" content="https://markhoo.com/2018/10/12/gin/index.html">
<meta property="og:site_name" content="和光同尘|MarkHoo">
<meta property="og:description" content="Gin is a web framework written in Go (Golang).">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://media.markhoo.com/color.png">
<meta property="og:image" content="https://media.markhoo.com/console.png">
<meta property="article:published_time" content="2018-10-12T12:31:23.000Z">
<meta property="article:modified_time" content="2022-04-18T04:30:07.275Z">
<meta property="article:author" content="Mark Hoo">
<meta property="article:tag" content="Go">
<meta property="article:tag" content="Gin">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://media.markhoo.com/color.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/npm/highlight.js@9.15.8/styles/atom-one-dark.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css,gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/hexo-theme-nexmoe@latest/source/lib/mdui_043tiny/css/mdui.css,npm/hexo-theme-nexmoe@latest/source/lib/iconfont/iconfont.css?v=233" crossorigin>
    <link rel="stylesheet" href="/css/style.css?v=1662528173147">
     
    
    <link rel="stylesheet" href="/lib/iconfont/iconfont.css?v=1662528173147">
    
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="mdui-drawer-body-left">
    
    <div id="nexmoe-background">
        <div class="nexmoe-bg" style="background-image: url(https://s2.loli.net/2022/07/16/n29RuOFbBtdrcDs.jpg)"></div>
        <div class="mdui-appbar mdui-shadow-0">
            <div class="mdui-toolbar">
                <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
                <div class="mdui-toolbar-spacer"></div>
                <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
                <a href="/" title="Mark Hoo" class="mdui-btn mdui-btn-icon"><img src="https://media.markhoo.com/avatar.jpg" alt="Mark Hoo"></a>
            </div>
        </div>
    </div>
    <div id="nexmoe-header">
        <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Mark Hoo">
            <img src="https://media.markhoo.com/avatar.jpg" alt="Mark Hoo" alt="Mark Hoo">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>43</div>
        <div><span>标签</span>36</div>
        <div><span>分类</span>11</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/" title="首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/archives.html" title="归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/books.html" title="书架">
            <i class="mdui-list-item-icon nexmoefont icon-battlenet"></i>
            <div class="mdui-list-item-content">
                书架
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/about.html" title="关于">
            <i class="mdui-list-item-icon nexmoefont icon-coffee"></i>
            <div class="mdui-list-item-content">
                关于
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/links.html" title="邻居">
            <i class="mdui-list-item-icon nexmoefont icon-dribbble"></i>
            <div class="mdui-list-item-content">
                邻居
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
         
            <form id="search_form" action_e="https://cn.bing.com/search?q=site:markhoo.com" onsubmit="return search();">
                <label><input id="search_value" name="q" type="search" placeholder="搜索"></label>
            </form>
         
    </div>
</div>
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://jq.qq.com/" target="_blank" mdui-tooltip="{content: 'QQ群'}" style="color: rgb(249, 174, 8);background-color: rgba(249, 174, 8, .1);">
            <i class="nexmoefont icon-QQ"></i>
        </a><a class="mdui-ripple" href="https://space.bilibili.com/182687081" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/markhoo/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a>
    </div>
</div>
    
    
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章分类</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/C-C/">C/C++</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Django/">Django</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Elixir/">Elixir</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Go/">Go</a>
          <span class="category-list-count">9</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/IDE/">IDE</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Java/">Java</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Linux/">Linux</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Lua/">Lua</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Nginx/">Nginx</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Python/">Python</a>
          <span class="category-list-count">10</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/默认分类/">默认分类</a>
          <span class="category-list-count">9</span>
        </li>

        
      </ul>

    </div>
  </div>


    
    
  <div class="nexmoe-widget-wrap">
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/API/" style="font-size: 10px;">API</a> <a href="/tags/ArchLinux/" style="font-size: 10px;">ArchLinux</a> <a href="/tags/C-C/" style="font-size: 10px;">C/C++</a> <a href="/tags/CentOS7/" style="font-size: 15.71px;">CentOS7</a> <a href="/tags/Django/" style="font-size: 18.57px;">Django</a> <a href="/tags/Elixir/" style="font-size: 11.43px;">Elixir</a> <a href="/tags/EndeavourOS/" style="font-size: 10px;">EndeavourOS</a> <a href="/tags/Erlang/" style="font-size: 10px;">Erlang</a> <a href="/tags/Gin/" style="font-size: 11.43px;">Gin</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Gitlab/" style="font-size: 10px;">Gitlab</a> <a href="/tags/Go/" style="font-size: 17.14px;">Go</a> <a href="/tags/Gunicorn/" style="font-size: 12.86px;">Gunicorn</a> <a href="/tags/Hugo/" style="font-size: 10px;">Hugo</a> <a href="/tags/IDE/" style="font-size: 11.43px;">IDE</a> <a href="/tags/JWT/" style="font-size: 10px;">JWT</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Linux/" style="font-size: 14.29px;">Linux</a> <a href="/tags/Lua/" style="font-size: 10px;">Lua</a> <a href="/tags/Manim/" style="font-size: 10px;">Manim</a> <a href="/tags/NeoVim/" style="font-size: 10px;">NeoVim</a> <a href="/tags/Nginx/" style="font-size: 14.29px;">Nginx</a> <a href="/tags/Phoenix/" style="font-size: 10px;">Phoenix</a> <a href="/tags/PyCharm/" style="font-size: 10px;">PyCharm</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/Rest/" style="font-size: 10px;">Rest</a> <a href="/tags/Unix/" style="font-size: 10px;">Unix</a> <a href="/tags/Vim/" style="font-size: 11.43px;">Vim</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a> <a href="/tags/xadmin/" style="font-size: 10px;">xadmin</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 10px;">数据库</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法</a> <a href="/tags/%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90/" style="font-size: 10px;">网易云音乐</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 11.43px;">面试题</a> <a href="/tags/%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/" style="font-size: 10px;">音乐播放器</a>
    </div>
    
  </div>

    
</aside>
    <div class="nexmoe-copyright">
        &copy; 2022 Mark Hoo
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/theme-nexmoe/hexo-theme-nexmoe" target="_blank">Nexmoe</a>
        <br><a target="_blank" href="https://beian.miit.gov.cn">苏ICP备17044309号</a><br><a target="_blank" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"><img src="https://i.dawnlab.me/c0268c1e6cfd0863d6ba35be1575941a.png" width="150px"></a><script data-ad-client="ca-pub-2058306854838448" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    </div>
</div><!-- .nexmoe-drawer -->
    </div>
    <div id="nexmoe-content">
        <div class="nexmoe-primary">
            <div class="nexmoe-post">

  <article>
      
          <div class="nexmoe-post-cover" style="padding-bottom: 38.88888888888889%;"> 
              <img data-src="https://s2.loli.net/2022/07/16/n29RuOFbBtdrcDs.jpg" data-sizes="auto" alt="Gin Web Framework" class="lazyload">
              <h1>Gin Web Framework</h1>
          </div>
      
      
      <div class="nexmoe-post-meta nexmoe-rainbow" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2018年10月12日</a>
    <a><i class="nexmoefont icon-areachart"></i>7.6k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 47 分钟</a>
</div>

      

      <p>Gin is a web framework written in Go (Golang).</p>
<span id="more"></span>


<p>Gin is a web framework written in Go (Golang). It features a martini-like API with much better performance, up to 40 times faster thanks to <a target="_blank" rel="noopener" href="https://github.com/julienschmidt/httprouter">httprouter</a>. If you need performance and good productivity, you will love Gin.</p>
<!--more-->


<img align="" width="159px" src="https://media.markhoo.com/color.png">

<p>Gin is a web framework written in Go (Golang). It features a martini-like API with much better performance, up to 40 times faster thanks to <a target="_blank" rel="noopener" href="https://github.com/julienschmidt/httprouter">httprouter</a>. If you need performance and good productivity, you will love Gin.</p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://media.markhoo.com/console.png" alt="Gin console logger" class="lazyload"></p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>To install Gin package, you need to install Go and set your Go workspace first.</p>
<ol>
<li>Download and install it:</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ go get -u github.com/gin-gonic/gin<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>Import it in your code:</li>
</ol>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br></code></pre></td></tr></table></figure>

<ol start="3">
<li>(Optional) Import <code>net/http</code>. This is required for example if using constants such as <code>http.StatusOK</code>.</li>
</ol>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;net/http&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="Use-a-vendor-tool-like-Govendor"><a href="#Use-a-vendor-tool-like-Govendor" class="headerlink" title="Use a vendor tool like Govendor"></a>Use a vendor tool like <a target="_blank" rel="noopener" href="https://github.com/kardianos/govendor">Govendor</a></h3><ol>
<li><code>go get</code> govendor</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ go get github.com/kardianos/govendor<br></code></pre></td></tr></table></figure>
<ol start="2">
<li>Create your project folder and <code>cd</code> inside</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ mkdir -p <span class="hljs-variable">$GOPATH</span>/src/github.com/myusername/project &amp;&amp; <span class="hljs-built_in">cd</span> <span class="hljs-string">&quot;<span class="hljs-variable">$_</span>&quot;</span><br></code></pre></td></tr></table></figure>

<ol start="3">
<li>Vendor init your project and add gin</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ govendor init<br>$ govendor fetch github.com/gin-gonic/gin@v1.3<br></code></pre></td></tr></table></figure>

<ol start="4">
<li>Copy a starting template inside your project</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ curl https://raw.githubusercontent.com/gin-gonic/gin/master/examples/basic/main.go &gt; main.go<br></code></pre></td></tr></table></figure>

<ol start="5">
<li>Run your project</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ go run main.go<br></code></pre></td></tr></table></figure>

<h2 id="Prerequisite"><a href="#Prerequisite" class="headerlink" title="Prerequisite"></a>Prerequisite</h2><p>Now Gin requires Go 1.6 or later and Go 1.7 will be required soon.</p>
<h2 id="Quick-start"><a href="#Quick-start" class="headerlink" title="Quick start"></a>Quick start</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># assume the following codes in example.go file</span><br>$ cat example.go<br></code></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br>	r.GET(<span class="hljs-string">&quot;/ping&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.JSON(<span class="hljs-number">200</span>, gin.H&#123;<br>			<span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;pong&quot;</span>,<br>		&#125;)<br>	&#125;)<br>	r.Run() <span class="hljs-comment">// listen and serve on 0.0.0.0:8080</span><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs maxima"># run <span class="hljs-built_in">example</span>.<span class="hljs-built_in">go</span> <span class="hljs-keyword">and</span> visit <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">8080</span>/ping on browser<br>$ <span class="hljs-built_in">go</span> run <span class="hljs-built_in">example</span>.<span class="hljs-built_in">go</span><br></code></pre></td></tr></table></figure>

<h2 id="Benchmarks"><a href="#Benchmarks" class="headerlink" title="Benchmarks"></a>Benchmarks</h2><p>Gin uses a custom version of <a target="_blank" rel="noopener" href="https://github.com/julienschmidt/httprouter">HttpRouter</a></p>
<p><a href="/BENCHMARKS.md">See all benchmarks</a></p>
<table>
<thead>
<tr>
<th>Benchmark name</th>
<th align="right">(1)</th>
<th align="right">(2)</th>
<th align="right">(3)</th>
<th align="right">(4)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>BenchmarkGin_GithubAll</strong></td>
<td align="right"><strong>30000</strong></td>
<td align="right"><strong>48375</strong></td>
<td align="right"><strong>0</strong></td>
<td align="right"><strong>0</strong></td>
</tr>
<tr>
<td>BenchmarkAce_GithubAll</td>
<td align="right">10000</td>
<td align="right">134059</td>
<td align="right">13792</td>
<td align="right">167</td>
</tr>
<tr>
<td>BenchmarkBear_GithubAll</td>
<td align="right">5000</td>
<td align="right">534445</td>
<td align="right">86448</td>
<td align="right">943</td>
</tr>
<tr>
<td>BenchmarkBeego_GithubAll</td>
<td align="right">3000</td>
<td align="right">592444</td>
<td align="right">74705</td>
<td align="right">812</td>
</tr>
<tr>
<td>BenchmarkBone_GithubAll</td>
<td align="right">200</td>
<td align="right">6957308</td>
<td align="right">698784</td>
<td align="right">8453</td>
</tr>
<tr>
<td>BenchmarkDenco_GithubAll</td>
<td align="right">10000</td>
<td align="right">158819</td>
<td align="right">20224</td>
<td align="right">167</td>
</tr>
<tr>
<td>BenchmarkEcho_GithubAll</td>
<td align="right">10000</td>
<td align="right">154700</td>
<td align="right">6496</td>
<td align="right">203</td>
</tr>
<tr>
<td>BenchmarkGocraftWeb_GithubAll</td>
<td align="right">3000</td>
<td align="right">570806</td>
<td align="right">131656</td>
<td align="right">1686</td>
</tr>
<tr>
<td>BenchmarkGoji_GithubAll</td>
<td align="right">2000</td>
<td align="right">818034</td>
<td align="right">56112</td>
<td align="right">334</td>
</tr>
<tr>
<td>BenchmarkGojiv2_GithubAll</td>
<td align="right">2000</td>
<td align="right">1213973</td>
<td align="right">274768</td>
<td align="right">3712</td>
</tr>
<tr>
<td>BenchmarkGoJsonRest_GithubAll</td>
<td align="right">2000</td>
<td align="right">785796</td>
<td align="right">134371</td>
<td align="right">2737</td>
</tr>
<tr>
<td>BenchmarkGoRestful_GithubAll</td>
<td align="right">300</td>
<td align="right">5238188</td>
<td align="right">689672</td>
<td align="right">4519</td>
</tr>
<tr>
<td>BenchmarkGorillaMux_GithubAll</td>
<td align="right">100</td>
<td align="right">10257726</td>
<td align="right">211840</td>
<td align="right">2272</td>
</tr>
<tr>
<td>BenchmarkHttpRouter_GithubAll</td>
<td align="right">20000</td>
<td align="right">105414</td>
<td align="right">13792</td>
<td align="right">167</td>
</tr>
<tr>
<td>BenchmarkHttpTreeMux_GithubAll</td>
<td align="right">10000</td>
<td align="right">319934</td>
<td align="right">65856</td>
<td align="right">671</td>
</tr>
<tr>
<td>BenchmarkKocha_GithubAll</td>
<td align="right">10000</td>
<td align="right">209442</td>
<td align="right">23304</td>
<td align="right">843</td>
</tr>
<tr>
<td>BenchmarkLARS_GithubAll</td>
<td align="right">20000</td>
<td align="right">62565</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr>
<td>BenchmarkMacaron_GithubAll</td>
<td align="right">2000</td>
<td align="right">1161270</td>
<td align="right">204194</td>
<td align="right">2000</td>
</tr>
<tr>
<td>BenchmarkMartini_GithubAll</td>
<td align="right">200</td>
<td align="right">9991713</td>
<td align="right">226549</td>
<td align="right">2325</td>
</tr>
<tr>
<td>BenchmarkPat_GithubAll</td>
<td align="right">200</td>
<td align="right">5590793</td>
<td align="right">1499568</td>
<td align="right">27435</td>
</tr>
<tr>
<td>BenchmarkPossum_GithubAll</td>
<td align="right">10000</td>
<td align="right">319768</td>
<td align="right">84448</td>
<td align="right">609</td>
</tr>
<tr>
<td>BenchmarkR2router_GithubAll</td>
<td align="right">10000</td>
<td align="right">305134</td>
<td align="right">77328</td>
<td align="right">979</td>
</tr>
<tr>
<td>BenchmarkRivet_GithubAll</td>
<td align="right">10000</td>
<td align="right">132134</td>
<td align="right">16272</td>
<td align="right">167</td>
</tr>
<tr>
<td>BenchmarkTango_GithubAll</td>
<td align="right">3000</td>
<td align="right">552754</td>
<td align="right">63826</td>
<td align="right">1618</td>
</tr>
<tr>
<td>BenchmarkTigerTonic_GithubAll</td>
<td align="right">1000</td>
<td align="right">1439483</td>
<td align="right">239104</td>
<td align="right">5374</td>
</tr>
<tr>
<td>BenchmarkTraffic_GithubAll</td>
<td align="right">100</td>
<td align="right">11383067</td>
<td align="right">2659329</td>
<td align="right">21848</td>
</tr>
<tr>
<td>BenchmarkVulcan_GithubAll</td>
<td align="right">5000</td>
<td align="right">394253</td>
<td align="right">19894</td>
<td align="right">609</td>
</tr>
</tbody></table>
<ul>
<li>(1): Total Repetitions achieved in constant time, higher means more confident result</li>
<li>(2): Single Repetition Duration (ns/op), lower is better</li>
<li>(3): Heap Memory (B/op), lower is better</li>
<li>(4): Average Allocations per Repetition (allocs/op), lower is better</li>
</ul>
<h2 id="Gin-v1-stable"><a href="#Gin-v1-stable" class="headerlink" title="Gin v1. stable"></a>Gin v1. stable</h2><ul>
<li><input checked="" disabled="" type="checkbox"> Zero allocation router.</li>
<li><input checked="" disabled="" type="checkbox"> Still the fastest http router and framework. From routing to writing.</li>
<li><input checked="" disabled="" type="checkbox"> Complete suite of unit tests</li>
<li><input checked="" disabled="" type="checkbox"> Battle tested</li>
<li><input checked="" disabled="" type="checkbox"> API frozen, new releases will not break your code.</li>
</ul>
<h2 id="Build-with-jsoniter"><a href="#Build-with-jsoniter" class="headerlink" title="Build with jsoniter"></a>Build with <a target="_blank" rel="noopener" href="https://github.com/json-iterator/go">jsoniter</a></h2><p>Gin uses <code>encoding/json</code> as default json package but you can change to <a target="_blank" rel="noopener" href="https://github.com/json-iterator/go">jsoniter</a> by build from other tags.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ go build -tags=jsoniter .<br></code></pre></td></tr></table></figure>

<h2 id="API-Examples"><a href="#API-Examples" class="headerlink" title="API Examples"></a>API Examples</h2><h3 id="Using-GET-POST-PUT-PATCH-DELETE-and-OPTIONS"><a href="#Using-GET-POST-PUT-PATCH-DELETE-and-OPTIONS" class="headerlink" title="Using GET, POST, PUT, PATCH, DELETE and OPTIONS"></a>Using GET, POST, PUT, PATCH, DELETE and OPTIONS</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	<span class="hljs-comment">// Disable Console Color</span><br>	<span class="hljs-comment">// gin.DisableConsoleColor()</span><br><br>	<span class="hljs-comment">// Creates a gin router with default middleware:</span><br>	<span class="hljs-comment">// logger and recovery (crash-free) middleware</span><br>	router := gin.Default()<br><br>	router.GET(<span class="hljs-string">&quot;/someGet&quot;</span>, getting)<br>	router.POST(<span class="hljs-string">&quot;/somePost&quot;</span>, posting)<br>	router.PUT(<span class="hljs-string">&quot;/somePut&quot;</span>, putting)<br>	router.DELETE(<span class="hljs-string">&quot;/someDelete&quot;</span>, deleting)<br>	router.PATCH(<span class="hljs-string">&quot;/somePatch&quot;</span>, patching)<br>	router.HEAD(<span class="hljs-string">&quot;/someHead&quot;</span>, head)<br>	router.OPTIONS(<span class="hljs-string">&quot;/someOptions&quot;</span>, options)<br><br>	<span class="hljs-comment">// By default it serves on :8080 unless a</span><br>	<span class="hljs-comment">// PORT environment variable was defined.</span><br>	router.Run()<br>	<span class="hljs-comment">// router.Run(&quot;:3000&quot;) for a hard coded port</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Parameters-in-path"><a href="#Parameters-in-path" class="headerlink" title="Parameters in path"></a>Parameters in path</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br><br>	<span class="hljs-comment">// This handler will match /user/john but will not match /user/ or /user</span><br>	router.GET(<span class="hljs-string">&quot;/user/:name&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		name := c.Param(<span class="hljs-string">&quot;name&quot;</span>)<br>		c.String(http.StatusOK, <span class="hljs-string">&quot;Hello %s&quot;</span>, name)<br>	&#125;)<br><br>	<span class="hljs-comment">// However, this one will match /user/john/ and also /user/john/send</span><br>	<span class="hljs-comment">// If no other routers match /user/john, it will redirect to /user/john/</span><br>	router.GET(<span class="hljs-string">&quot;/user/:name/*action&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		name := c.Param(<span class="hljs-string">&quot;name&quot;</span>)<br>		action := c.Param(<span class="hljs-string">&quot;action&quot;</span>)<br>		message := name + <span class="hljs-string">&quot; is &quot;</span> + action<br>		c.String(http.StatusOK, message)<br>	&#125;)<br><br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Querystring-parameters"><a href="#Querystring-parameters" class="headerlink" title="Querystring parameters"></a>Querystring parameters</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br><br>	<span class="hljs-comment">// Query string parameters are parsed using the existing underlying request object.</span><br>	<span class="hljs-comment">// The request responds to a url matching:  /welcome?firstname=Jane&amp;lastname=Doe</span><br>	router.GET(<span class="hljs-string">&quot;/welcome&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		firstname := c.DefaultQuery(<span class="hljs-string">&quot;firstname&quot;</span>, <span class="hljs-string">&quot;Guest&quot;</span>)<br>		lastname := c.Query(<span class="hljs-string">&quot;lastname&quot;</span>) <span class="hljs-comment">// shortcut for c.Request.URL.Query().Get(&quot;lastname&quot;)</span><br><br>		c.String(http.StatusOK, <span class="hljs-string">&quot;Hello %s %s&quot;</span>, firstname, lastname)<br>	&#125;)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Multipart-Urlencoded-Form"><a href="#Multipart-Urlencoded-Form" class="headerlink" title="Multipart/Urlencoded Form"></a>Multipart/Urlencoded Form</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br><br>	router.POST(<span class="hljs-string">&quot;/form_post&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		message := c.PostForm(<span class="hljs-string">&quot;message&quot;</span>)<br>		nick := c.DefaultPostForm(<span class="hljs-string">&quot;nick&quot;</span>, <span class="hljs-string">&quot;anonymous&quot;</span>)<br><br>		c.JSON(<span class="hljs-number">200</span>, gin.H&#123;<br>			<span class="hljs-string">&quot;status&quot;</span>:  <span class="hljs-string">&quot;posted&quot;</span>,<br>			<span class="hljs-string">&quot;message&quot;</span>: message,<br>			<span class="hljs-string">&quot;nick&quot;</span>:    nick,<br>		&#125;)<br>	&#125;)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Another-example-query-post-form"><a href="#Another-example-query-post-form" class="headerlink" title="Another example: query + post form"></a>Another example: query + post form</h3><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/post?id=1234&amp;page=1</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/x-www-form-urlencoded<br><br><span class="ceylon">name=manu&amp;message=<span class="hljs-keyword">this</span><span class="hljs-number">_</span><span class="hljs-keyword">is</span><span class="hljs-number">_</span>great</span><br></code></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br><br>	router.POST(<span class="hljs-string">&quot;/post&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br><br>		id := c.Query(<span class="hljs-string">&quot;id&quot;</span>)<br>		page := c.DefaultQuery(<span class="hljs-string">&quot;page&quot;</span>, <span class="hljs-string">&quot;0&quot;</span>)<br>		name := c.PostForm(<span class="hljs-string">&quot;name&quot;</span>)<br>		message := c.PostForm(<span class="hljs-string">&quot;message&quot;</span>)<br><br>		fmt.Printf(<span class="hljs-string">&quot;id: %s; page: %s; name: %s; message: %s&quot;</span>, id, page, name, message)<br>	&#125;)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">id:</span> <span class="hljs-number">1234</span><span class="hljs-string">;</span> <span class="hljs-attr">page:</span> <span class="hljs-number">1</span><span class="hljs-string">;</span> <span class="hljs-attr">name:</span> <span class="hljs-string">manu;</span> <span class="hljs-attr">message:</span> <span class="hljs-string">this_is_great</span><br></code></pre></td></tr></table></figure>

<h3 id="Map-as-querystring-or-postform-parameters"><a href="#Map-as-querystring-or-postform-parameters" class="headerlink" title="Map as querystring or postform parameters"></a>Map as querystring or postform parameters</h3><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/post?ids[a]=1234&amp;ids[b]=hello</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/x-www-form-urlencoded<br><br><span class="applescript">names[<span class="hljs-keyword">first</span>]=thinkerou&amp;names[<span class="hljs-keyword">second</span>]=tianou</span><br></code></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br><br>	router.POST(<span class="hljs-string">&quot;/post&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br><br>		ids := c.QueryMap(<span class="hljs-string">&quot;ids&quot;</span>)<br>		names := c.PostFormMap(<span class="hljs-string">&quot;names&quot;</span>)<br><br>		fmt.Printf(<span class="hljs-string">&quot;ids: %v; names: %v&quot;</span>, ids, names)<br>	&#125;)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">id<span class="hljs-variable">s:</span> <span class="hljs-keyword">map</span>[<span class="hljs-variable">b:hello</span> <span class="hljs-variable">a:1234</span>], name<span class="hljs-variable">s:</span> <span class="hljs-keyword">map</span>[second:tianou firs<span class="hljs-variable">t:thinkerou</span>]<br></code></pre></td></tr></table></figure>

<h3 id="Upload-files"><a href="#Upload-files" class="headerlink" title="Upload files"></a>Upload files</h3><h4 id="Single-file"><a href="#Single-file" class="headerlink" title="Single file"></a>Single file</h4><p>References issue <a target="_blank" rel="noopener" href="https://github.com/gin-gonic/gin/issues/774">#774</a> and detail <a href="examples/upload-file/single">example code</a>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br>	<span class="hljs-comment">// Set a lower memory limit for multipart forms (default is 32 MiB)</span><br>	<span class="hljs-comment">// router.MaxMultipartMemory = 8 &lt;&lt; 20  // 8 MiB</span><br>	router.POST(<span class="hljs-string">&quot;/upload&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-comment">// single file</span><br>		file, _ := c.FormFile(<span class="hljs-string">&quot;file&quot;</span>)<br>		log.Println(file.Filename)<br><br>		<span class="hljs-comment">// Upload the file to specific dst.</span><br>		<span class="hljs-comment">// c.SaveUploadedFile(file, dst)</span><br><br>		c.String(http.StatusOK, fmt.Sprintf(<span class="hljs-string">&quot;&#x27;%s&#x27; uploaded!&quot;</span>, file.Filename))<br>	&#125;)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>How to <code>curl</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -X POST http://localhost:8080/upload \<br>  -F <span class="hljs-string">&quot;file=@/Users/appleboy/test.zip&quot;</span> \<br>  -H <span class="hljs-string">&quot;Content-Type: multipart/form-data&quot;</span><br></code></pre></td></tr></table></figure>

<h4 id="Multiple-files"><a href="#Multiple-files" class="headerlink" title="Multiple files"></a>Multiple files</h4><p>See the detail <a href="examples/upload-file/multiple">example code</a>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br>	<span class="hljs-comment">// Set a lower memory limit for multipart forms (default is 32 MiB)</span><br>	<span class="hljs-comment">// router.MaxMultipartMemory = 8 &lt;&lt; 20  // 8 MiB</span><br>	router.POST(<span class="hljs-string">&quot;/upload&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-comment">// Multipart form</span><br>		form, _ := c.MultipartForm()<br>		files := form.File[<span class="hljs-string">&quot;upload[]&quot;</span>]<br><br>		<span class="hljs-keyword">for</span> _, file := <span class="hljs-keyword">range</span> files &#123;<br>			log.Println(file.Filename)<br><br>			<span class="hljs-comment">// Upload the file to specific dst.</span><br>			<span class="hljs-comment">// c.SaveUploadedFile(file, dst)</span><br>		&#125;<br>		c.String(http.StatusOK, fmt.Sprintf(<span class="hljs-string">&quot;%d files uploaded!&quot;</span>, <span class="hljs-built_in">len</span>(files)))<br>	&#125;)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>How to <code>curl</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -X POST http://localhost:8080/upload \<br>  -F <span class="hljs-string">&quot;upload[]=@/Users/appleboy/test1.zip&quot;</span> \<br>  -F <span class="hljs-string">&quot;upload[]=@/Users/appleboy/test2.zip&quot;</span> \<br>  -H <span class="hljs-string">&quot;Content-Type: multipart/form-data&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="Grouping-routes"><a href="#Grouping-routes" class="headerlink" title="Grouping routes"></a>Grouping routes</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br><br>	<span class="hljs-comment">// Simple group: v1</span><br>	v1 := router.Group(<span class="hljs-string">&quot;/v1&quot;</span>)<br>	&#123;<br>		v1.POST(<span class="hljs-string">&quot;/login&quot;</span>, loginEndpoint)<br>		v1.POST(<span class="hljs-string">&quot;/submit&quot;</span>, submitEndpoint)<br>		v1.POST(<span class="hljs-string">&quot;/read&quot;</span>, readEndpoint)<br>	&#125;<br><br>	<span class="hljs-comment">// Simple group: v2</span><br>	v2 := router.Group(<span class="hljs-string">&quot;/v2&quot;</span>)<br>	&#123;<br>		v2.POST(<span class="hljs-string">&quot;/login&quot;</span>, loginEndpoint)<br>		v2.POST(<span class="hljs-string">&quot;/submit&quot;</span>, submitEndpoint)<br>		v2.POST(<span class="hljs-string">&quot;/read&quot;</span>, readEndpoint)<br>	&#125;<br><br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Blank-Gin-without-middleware-by-default"><a href="#Blank-Gin-without-middleware-by-default" class="headerlink" title="Blank Gin without middleware by default"></a>Blank Gin without middleware by default</h3><p>Use</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs go">r := gin.New()<br></code></pre></td></tr></table></figure>

<p>instead of</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// Default With the Logger and Recovery middleware already attached</span><br>r := gin.Default()<br></code></pre></td></tr></table></figure>


<h3 id="Using-middleware"><a href="#Using-middleware" class="headerlink" title="Using middleware"></a>Using middleware</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	<span class="hljs-comment">// Creates a router without any middleware by default</span><br>	r := gin.New()<br><br>	<span class="hljs-comment">// Global middleware</span><br>	<span class="hljs-comment">// Logger middleware will write the logs to gin.DefaultWriter even if you set with GIN_MODE=release.</span><br>	<span class="hljs-comment">// By default gin.DefaultWriter = os.Stdout</span><br>	r.Use(gin.Logger())<br><br>	<span class="hljs-comment">// Recovery middleware recovers from any panics and writes a 500 if there was one.</span><br>	r.Use(gin.Recovery())<br><br>	<span class="hljs-comment">// Per route middleware, you can add as many as you desire.</span><br>	r.GET(<span class="hljs-string">&quot;/benchmark&quot;</span>, MyBenchLogger(), benchEndpoint)<br><br>	<span class="hljs-comment">// Authorization group</span><br>	<span class="hljs-comment">// authorized := r.Group(&quot;/&quot;, AuthRequired())</span><br>	<span class="hljs-comment">// exactly the same as:</span><br>	authorized := r.Group(<span class="hljs-string">&quot;/&quot;</span>)<br>	<span class="hljs-comment">// per group middleware! in this case we use the custom created</span><br>	<span class="hljs-comment">// AuthRequired() middleware just in the &quot;authorized&quot; group.</span><br>	authorized.Use(AuthRequired())<br>	&#123;<br>		authorized.POST(<span class="hljs-string">&quot;/login&quot;</span>, loginEndpoint)<br>		authorized.POST(<span class="hljs-string">&quot;/submit&quot;</span>, submitEndpoint)<br>		authorized.POST(<span class="hljs-string">&quot;/read&quot;</span>, readEndpoint)<br><br>		<span class="hljs-comment">// nested group</span><br>		testing := authorized.Group(<span class="hljs-string">&quot;testing&quot;</span>)<br>		testing.GET(<span class="hljs-string">&quot;/analytics&quot;</span>, analyticsEndpoint)<br>	&#125;<br><br>	<span class="hljs-comment">// Listen and serve on 0.0.0.0:8080</span><br>	r.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="How-to-write-log-file"><a href="#How-to-write-log-file" class="headerlink" title="How to write log file"></a>How to write log file</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-comment">// Disable Console Color, you don&#x27;t need console color when writing the logs to file.</span><br>    gin.DisableConsoleColor()<br><br>    <span class="hljs-comment">// Logging to a file.</span><br>    f, _ := os.Create(<span class="hljs-string">&quot;gin.log&quot;</span>)<br>    gin.DefaultWriter = io.MultiWriter(f)<br><br>    <span class="hljs-comment">// Use the following code if you need to write the logs to file and console at the same time.</span><br>    <span class="hljs-comment">// gin.DefaultWriter = io.MultiWriter(f, os.Stdout)</span><br><br>    router := gin.Default()<br>    router.GET(<span class="hljs-string">&quot;/ping&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>        c.String(<span class="hljs-number">200</span>, <span class="hljs-string">&quot;pong&quot;</span>)<br>    &#125;)<br><br>    router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Model-binding-and-validation"><a href="#Model-binding-and-validation" class="headerlink" title="Model binding and validation"></a>Model binding and validation</h3><p>To bind a request body into a type, use model binding. We currently support binding of JSON, XML and standard form values (foo=bar&amp;boo=baz).</p>
<p>Gin uses <a target="_blank" rel="noopener" href="https://github.com/go-playground/validator"><strong>go-playground/validator.v8</strong></a> for validation. Check the full docs on tags usage <a target="_blank" rel="noopener" href="http://godoc.org/gopkg.in/go-playground/validator.v8#hdr-Baked_In_Validators_and_Tags">here</a>.</p>
<p>Note that you need to set the corresponding binding tag on all fields you want to bind. For example, when binding from JSON, set <code>json:&quot;fieldname&quot;</code>.</p>
<p>Also, Gin provides two sets of methods for binding:</p>
<ul>
<li><strong>Type</strong> - Must bind<ul>
<li><strong>Methods</strong> - <code>Bind</code>, <code>BindJSON</code>, <code>BindXML</code>, <code>BindQuery</code></li>
<li><strong>Behavior</strong> - These methods use <code>MustBindWith</code> under the hood. If there is a binding error, the request is aborted with <code>c.AbortWithError(400, err).SetType(ErrorTypeBind)</code>. This sets the response status code to 400 and the <code>Content-Type</code> header is set to <code>text/plain; charset=utf-8</code>. Note that if you try to set the response code after this, it will result in a warning <code>[GIN-debug] [WARNING] Headers were already written. Wanted to override status code 400 with 422</code>. If you wish to have greater control over the behavior, consider using the <code>ShouldBind</code> equivalent method.</li>
</ul>
</li>
<li><strong>Type</strong> - Should bind<ul>
<li><strong>Methods</strong> - <code>ShouldBind</code>, <code>ShouldBindJSON</code>, <code>ShouldBindXML</code>, <code>ShouldBindQuery</code></li>
<li><strong>Behavior</strong> - These methods use <code>ShouldBindWith</code> under the hood. If there is a binding error, the error is returned and it is the developer’s responsibility to handle the request and error appropriately.</li>
</ul>
</li>
</ul>
<p>When using the Bind-method, Gin tries to infer the binder depending on the Content-Type header. If you are sure what you are binding, you can use <code>MustBindWith</code> or <code>ShouldBindWith</code>.</p>
<p>You can also specify that specific fields are required. If a field is decorated with <code>binding:&quot;required&quot;</code> and has a empty value when binding, an error will be returned.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// Binding from JSON</span><br><span class="hljs-keyword">type</span> Login <span class="hljs-keyword">struct</span> &#123;<br>	User     <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;user&quot; json:&quot;user&quot; xml:&quot;user&quot;  binding:&quot;required&quot;`</span><br>	Password <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;password&quot; json:&quot;password&quot; xml:&quot;password&quot; binding:&quot;required&quot;`</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br><br>	<span class="hljs-comment">// Example for binding JSON (&#123;&quot;user&quot;: &quot;manu&quot;, &quot;password&quot;: &quot;123&quot;&#125;)</span><br>	router.POST(<span class="hljs-string">&quot;/loginJSON&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-keyword">var</span> json Login<br>		<span class="hljs-keyword">if</span> err := c.ShouldBindJSON(&amp;json); err != <span class="hljs-literal">nil</span> &#123;<br>			c.JSON(http.StatusBadRequest, gin.H&#123;<span class="hljs-string">&quot;error&quot;</span>: err.Error()&#125;)<br>			<span class="hljs-keyword">return</span><br>		&#125;<br>		<br>		<span class="hljs-keyword">if</span> json.User != <span class="hljs-string">&quot;manu&quot;</span> || json.Password != <span class="hljs-string">&quot;123&quot;</span> &#123;<br>			c.JSON(http.StatusUnauthorized, gin.H&#123;<span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;unauthorized&quot;</span>&#125;)<br>			<span class="hljs-keyword">return</span><br>		&#125; <br>		<br>		c.JSON(http.StatusOK, gin.H&#123;<span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;you are logged in&quot;</span>&#125;)<br>	&#125;)<br><br>	<span class="hljs-comment">// Example for binding XML (</span><br>	<span class="hljs-comment">//	&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br>	<span class="hljs-comment">//	&lt;root&gt;</span><br>	<span class="hljs-comment">//		&lt;user&gt;user&lt;/user&gt;</span><br>	<span class="hljs-comment">//		&lt;password&gt;123&lt;/user&gt;</span><br>	<span class="hljs-comment">//	&lt;/root&gt;)</span><br>	router.POST(<span class="hljs-string">&quot;/loginXML&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-keyword">var</span> xml Login<br>		<span class="hljs-keyword">if</span> err := c.ShouldBindXML(&amp;xml); err != <span class="hljs-literal">nil</span> &#123;<br>			c.JSON(http.StatusBadRequest, gin.H&#123;<span class="hljs-string">&quot;error&quot;</span>: err.Error()&#125;)<br>			<span class="hljs-keyword">return</span><br>		&#125;<br>		<br>		<span class="hljs-keyword">if</span> xml.User != <span class="hljs-string">&quot;manu&quot;</span> || xml.Password != <span class="hljs-string">&quot;123&quot;</span> &#123;<br>			c.JSON(http.StatusUnauthorized, gin.H&#123;<span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;unauthorized&quot;</span>&#125;)<br>			<span class="hljs-keyword">return</span><br>		&#125; <br>		<br>		c.JSON(http.StatusOK, gin.H&#123;<span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;you are logged in&quot;</span>&#125;)<br>	&#125;)<br><br>	<span class="hljs-comment">// Example for binding a HTML form (user=manu&amp;password=123)</span><br>	router.POST(<span class="hljs-string">&quot;/loginForm&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-keyword">var</span> form Login<br>		<span class="hljs-comment">// This will infer what binder to use depending on the content-type header.</span><br>		<span class="hljs-keyword">if</span> err := c.ShouldBind(&amp;form); err != <span class="hljs-literal">nil</span> &#123;<br>			c.JSON(http.StatusBadRequest, gin.H&#123;<span class="hljs-string">&quot;error&quot;</span>: err.Error()&#125;)<br>			<span class="hljs-keyword">return</span><br>		&#125;<br>		<br>		<span class="hljs-keyword">if</span> form.User != <span class="hljs-string">&quot;manu&quot;</span> || form.Password != <span class="hljs-string">&quot;123&quot;</span> &#123;<br>			c.JSON(http.StatusUnauthorized, gin.H&#123;<span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;unauthorized&quot;</span>&#125;)<br>			<span class="hljs-keyword">return</span><br>		&#125; <br>		<br>		c.JSON(http.StatusOK, gin.H&#123;<span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;you are logged in&quot;</span>&#125;)<br>	&#125;)<br><br>	<span class="hljs-comment">// Listen and serve on 0.0.0.0:8080</span><br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>Sample request</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> curl -v -X POST \</span><br><span class="bash">  http://localhost:8080/loginJSON \</span><br><span class="bash">  -H <span class="hljs-string">&#x27;content-type: application/json&#x27;</span> \</span><br><span class="bash">  -d <span class="hljs-string">&#x27;&#123; &quot;user&quot;: &quot;manu&quot; &#125;&#x27;</span></span><br><span class="hljs-meta">&gt;</span><span class="bash"> POST /loginJSON HTTP/1.1</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Host: localhost:8080</span><br><span class="hljs-meta">&gt;</span><span class="bash"> User-Agent: curl/7.51.0</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Accept: */*</span><br><span class="hljs-meta">&gt;</span><span class="bash"> content-type: application/json</span><br><span class="hljs-meta">&gt;</span><span class="bash"> Content-Length: 18</span><br><span class="hljs-meta">&gt;</span><span class="bash"></span><br><span class="bash">* upload completely sent off: 18 out of 18 bytes</span><br>&lt; HTTP/1.1 400 Bad Request<br>&lt; Content-Type: application/json; charset=utf-8<br>&lt; Date: Fri, 04 Aug 2017 03:51:31 GMT<br>&lt; Content-Length: 100<br>&lt;<br>&#123;&quot;error&quot;:&quot;Key: &#x27;Login.Password&#x27; Error:Field validation for &#x27;Password&#x27; failed on the &#x27;required&#x27; tag&quot;&#125;<br></code></pre></td></tr></table></figure>

<p><strong>Skip validate</strong></p>
<p>When running the above example using the above the <code>curl</code> command, it returns error. Because the example use <code>binding:&quot;required&quot;</code> for <code>Password</code>. If use <code>binding:&quot;-&quot;</code> for <code>Password</code>, then it will not return error when running the above example again.</p>
<h3 id="Custom-Validators"><a href="#Custom-Validators" class="headerlink" title="Custom Validators"></a>Custom Validators</h3><p>It is also possible to register custom validators. See the <a href="examples/custom-validation/server.go">example code</a>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;net/http&quot;</span><br>	<span class="hljs-string">&quot;reflect&quot;</span><br>	<span class="hljs-string">&quot;time&quot;</span><br><br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin/binding&quot;</span><br>	<span class="hljs-string">&quot;gopkg.in/go-playground/validator.v8&quot;</span><br>)<br><br><span class="hljs-comment">// Booking contains binded and validated data.</span><br><span class="hljs-keyword">type</span> Booking <span class="hljs-keyword">struct</span> &#123;<br>	CheckIn  time.Time <span class="hljs-string">`form:&quot;check_in&quot; binding:&quot;required,bookabledate&quot; time_format:&quot;2006-01-02&quot;`</span><br>	CheckOut time.Time <span class="hljs-string">`form:&quot;check_out&quot; binding:&quot;required,gtfield=CheckIn&quot; time_format:&quot;2006-01-02&quot;`</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">bookableDate</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">	v *validator.Validate, topStruct reflect.Value, currentStructOrField reflect.Value,</span></span><br><span class="hljs-params"><span class="hljs-function">	field reflect.Value, fieldType reflect.Type, fieldKind reflect.Kind, param <span class="hljs-keyword">string</span>,</span></span><br><span class="hljs-params"><span class="hljs-function">)</span> <span class="hljs-title">bool</span></span> &#123;<br>	<span class="hljs-keyword">if</span> date, ok := field.Interface().(time.Time); ok &#123;<br>		today := time.Now()<br>		<span class="hljs-keyword">if</span> today.Year() &gt; date.Year() || today.YearDay() &gt; date.YearDay() &#123;<br>			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>		&#125;<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	route := gin.Default()<br><br>	<span class="hljs-keyword">if</span> v, ok := binding.Validator.Engine().(*validator.Validate); ok &#123;<br>		v.RegisterValidation(<span class="hljs-string">&quot;bookabledate&quot;</span>, bookableDate)<br>	&#125;<br><br>	route.GET(<span class="hljs-string">&quot;/bookable&quot;</span>, getBookable)<br>	route.Run(<span class="hljs-string">&quot;:8085&quot;</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getBookable</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>	<span class="hljs-keyword">var</span> b Booking<br>	<span class="hljs-keyword">if</span> err := c.ShouldBindWith(&amp;b, binding.Query); err == <span class="hljs-literal">nil</span> &#123;<br>		c.JSON(http.StatusOK, gin.H&#123;<span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;Booking dates are valid!&quot;</span>&#125;)<br>	&#125; <span class="hljs-keyword">else</span> &#123;<br>		c.JSON(http.StatusBadRequest, gin.H&#123;<span class="hljs-string">&quot;error&quot;</span>: err.Error()&#125;)<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs console"><span class="hljs-meta">$</span><span class="bash"> curl <span class="hljs-string">&quot;localhost:8085/bookable?check_in=2018-04-16&amp;check_out=2018-04-17&quot;</span></span><br>&#123;&quot;message&quot;:&quot;Booking dates are valid!&quot;&#125;<br><span class="hljs-meta"></span><br><span class="hljs-meta">$</span><span class="bash"> curl <span class="hljs-string">&quot;localhost:8085/bookable?check_in=2018-03-08&amp;check_out=2018-03-09&quot;</span></span><br>&#123;&quot;error&quot;:&quot;Key: &#x27;Booking.CheckIn&#x27; Error:Field validation for &#x27;CheckIn&#x27; failed on the &#x27;bookabledate&#x27; tag&quot;&#125;<br></code></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/go-playground/validator/releases/tag/v8.7">Struct level validations</a> can also be registered this way.<br>See the <a href="examples/struct-lvl-validations">struct-lvl-validation example</a> to learn more.</p>
<h3 id="Only-Bind-Query-String"><a href="#Only-Bind-Query-String" class="headerlink" title="Only Bind Query String"></a>Only Bind Query String</h3><p><code>ShouldBindQuery</code> function only binds the query params and not the post data. See the <a target="_blank" rel="noopener" href="https://github.com/gin-gonic/gin/issues/742#issuecomment-315953017">detail information</a>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;log&quot;</span><br><br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>)<br><br><span class="hljs-keyword">type</span> Person <span class="hljs-keyword">struct</span> &#123;<br>	Name    <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;name&quot;`</span><br>	Address <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;address&quot;`</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	route := gin.Default()<br>	route.Any(<span class="hljs-string">&quot;/testing&quot;</span>, startPage)<br>	route.Run(<span class="hljs-string">&quot;:8085&quot;</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">startPage</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>	<span class="hljs-keyword">var</span> person Person<br>	<span class="hljs-keyword">if</span> c.ShouldBindQuery(&amp;person) == <span class="hljs-literal">nil</span> &#123;<br>		log.Println(<span class="hljs-string">&quot;====== Only Bind By Query String ======&quot;</span>)<br>		log.Println(person.Name)<br>		log.Println(person.Address)<br>	&#125;<br>	c.String(<span class="hljs-number">200</span>, <span class="hljs-string">&quot;Success&quot;</span>)<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h3 id="Bind-Query-String-or-Post-Data"><a href="#Bind-Query-String-or-Post-Data" class="headerlink" title="Bind Query String or Post Data"></a>Bind Query String or Post Data</h3><p>See the <a target="_blank" rel="noopener" href="https://github.com/gin-gonic/gin/issues/742#issuecomment-264681292">detail information</a>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;log&quot;</span><br>	<span class="hljs-string">&quot;time&quot;</span><br><br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>)<br><br><span class="hljs-keyword">type</span> Person <span class="hljs-keyword">struct</span> &#123;<br>	Name     <span class="hljs-keyword">string</span>    <span class="hljs-string">`form:&quot;name&quot;`</span><br>	Address  <span class="hljs-keyword">string</span>    <span class="hljs-string">`form:&quot;address&quot;`</span><br>	Birthday time.Time <span class="hljs-string">`form:&quot;birthday&quot; time_format:&quot;2006-01-02&quot; time_utc:&quot;1&quot;`</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	route := gin.Default()<br>	route.GET(<span class="hljs-string">&quot;/testing&quot;</span>, startPage)<br>	route.Run(<span class="hljs-string">&quot;:8085&quot;</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">startPage</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>	<span class="hljs-keyword">var</span> person Person<br>	<span class="hljs-comment">// If `GET`, only `Form` binding engine (`query`) used.</span><br>	<span class="hljs-comment">// If `POST`, first checks the `content-type` for `JSON` or `XML`, then uses `Form` (`form-data`).</span><br>	<span class="hljs-comment">// See more at https://github.com/gin-gonic/gin/blob/master/binding/binding.go#L48</span><br>	<span class="hljs-keyword">if</span> c.ShouldBind(&amp;person) == <span class="hljs-literal">nil</span> &#123;<br>		log.Println(person.Name)<br>		log.Println(person.Address)<br>		log.Println(person.Birthday)<br>	&#125;<br><br>	c.String(<span class="hljs-number">200</span>, <span class="hljs-string">&quot;Success&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Test it with:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ curl -X GET <span class="hljs-string">&quot;localhost:8085/testing?name=appleboy&amp;address=xyz&amp;birthday=1992-03-15&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="Bind-HTML-checkboxes"><a href="#Bind-HTML-checkboxes" class="headerlink" title="Bind HTML checkboxes"></a>Bind HTML checkboxes</h3><p>See the <a target="_blank" rel="noopener" href="https://github.com/gin-gonic/gin/issues/129#issuecomment-124260092">detail information</a></p>
<p>main.go</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs go">...<br><br><span class="hljs-keyword">type</span> myForm <span class="hljs-keyword">struct</span> &#123;<br>    Colors []<span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;colors[]&quot;`</span><br>&#125;<br><br>...<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">formHandler</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>    <span class="hljs-keyword">var</span> fakeForm myForm<br>    c.ShouldBind(&amp;fakeForm)<br>    c.JSON(<span class="hljs-number">200</span>, gin.H&#123;<span class="hljs-string">&quot;color&quot;</span>: fakeForm.Colors&#125;)<br>&#125;<br><br>...<br><br></code></pre></td></tr></table></figure>

<p>form.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;POST&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Check some colors<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;red&quot;</span>&gt;</span>Red<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;colors[]&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;red&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;red&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;green&quot;</span>&gt;</span>Green<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;colors[]&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;green&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;green&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;blue&quot;</span>&gt;</span>Blue<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;colors[]&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;blue&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;blue&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>result:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<span class="hljs-attr">&quot;color&quot;</span>:[<span class="hljs-string">&quot;red&quot;</span>,<span class="hljs-string">&quot;green&quot;</span>,<span class="hljs-string">&quot;blue&quot;</span>]&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Multipart-Urlencoded-binding"><a href="#Multipart-Urlencoded-binding" class="headerlink" title="Multipart/Urlencoded binding"></a>Multipart/Urlencoded binding</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>)<br><br><span class="hljs-keyword">type</span> LoginForm <span class="hljs-keyword">struct</span> &#123;<br>	User     <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;user&quot; binding:&quot;required&quot;`</span><br>	Password <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;password&quot; binding:&quot;required&quot;`</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br>	router.POST(<span class="hljs-string">&quot;/login&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-comment">// you can bind multipart form with explicit binding declaration:</span><br>		<span class="hljs-comment">// c.ShouldBindWith(&amp;form, binding.Form)</span><br>		<span class="hljs-comment">// or you can simply use autobinding with ShouldBind method:</span><br>		<span class="hljs-keyword">var</span> form LoginForm<br>		<span class="hljs-comment">// in this case proper binding will be automatically selected</span><br>		<span class="hljs-keyword">if</span> c.ShouldBind(&amp;form) == <span class="hljs-literal">nil</span> &#123;<br>			<span class="hljs-keyword">if</span> form.User == <span class="hljs-string">&quot;user&quot;</span> &amp;&amp; form.Password == <span class="hljs-string">&quot;password&quot;</span> &#123;<br>				c.JSON(<span class="hljs-number">200</span>, gin.H&#123;<span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;you are logged in&quot;</span>&#125;)<br>			&#125; <span class="hljs-keyword">else</span> &#123;<br>				c.JSON(<span class="hljs-number">401</span>, gin.H&#123;<span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;unauthorized&quot;</span>&#125;)<br>			&#125;<br>		&#125;<br>	&#125;)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Test it with:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ curl -v --form user=user --form password=password http://localhost:8080/login<br></code></pre></td></tr></table></figure>

<h3 id="XML-JSON-YAML-and-ProtoBuf-rendering"><a href="#XML-JSON-YAML-and-ProtoBuf-rendering" class="headerlink" title="XML, JSON, YAML and ProtoBuf rendering"></a>XML, JSON, YAML and ProtoBuf rendering</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br><br>	<span class="hljs-comment">// gin.H is a shortcut for map[string]interface&#123;&#125;</span><br>	r.GET(<span class="hljs-string">&quot;/someJSON&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.JSON(http.StatusOK, gin.H&#123;<span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;hey&quot;</span>, <span class="hljs-string">&quot;status&quot;</span>: http.StatusOK&#125;)<br>	&#125;)<br><br>	r.GET(<span class="hljs-string">&quot;/moreJSON&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-comment">// You also can use a struct</span><br>		<span class="hljs-keyword">var</span> msg <span class="hljs-keyword">struct</span> &#123;<br>			Name    <span class="hljs-keyword">string</span> <span class="hljs-string">`json:&quot;user&quot;`</span><br>			Message <span class="hljs-keyword">string</span><br>			Number  <span class="hljs-keyword">int</span><br>		&#125;<br>		msg.Name = <span class="hljs-string">&quot;Lena&quot;</span><br>		msg.Message = <span class="hljs-string">&quot;hey&quot;</span><br>		msg.Number = <span class="hljs-number">123</span><br>		<span class="hljs-comment">// Note that msg.Name becomes &quot;user&quot; in the JSON</span><br>		<span class="hljs-comment">// Will output  :   &#123;&quot;user&quot;: &quot;Lena&quot;, &quot;Message&quot;: &quot;hey&quot;, &quot;Number&quot;: 123&#125;</span><br>		c.JSON(http.StatusOK, msg)<br>	&#125;)<br><br>	r.GET(<span class="hljs-string">&quot;/someXML&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.XML(http.StatusOK, gin.H&#123;<span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;hey&quot;</span>, <span class="hljs-string">&quot;status&quot;</span>: http.StatusOK&#125;)<br>	&#125;)<br><br>	r.GET(<span class="hljs-string">&quot;/someYAML&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.YAML(http.StatusOK, gin.H&#123;<span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;hey&quot;</span>, <span class="hljs-string">&quot;status&quot;</span>: http.StatusOK&#125;)<br>	&#125;)<br><br>	r.GET(<span class="hljs-string">&quot;/someProtoBuf&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		reps := []<span class="hljs-keyword">int64</span>&#123;<span class="hljs-keyword">int64</span>(<span class="hljs-number">1</span>), <span class="hljs-keyword">int64</span>(<span class="hljs-number">2</span>)&#125;<br>		label := <span class="hljs-string">&quot;test&quot;</span><br>		<span class="hljs-comment">// The specific definition of protobuf is written in the testdata/protoexample file.</span><br>		data := &amp;protoexample.Test&#123;<br>			Label: &amp;label,<br>			Reps:  reps,<br>		&#125;<br>		<span class="hljs-comment">// Note that data becomes binary data in the response</span><br>		<span class="hljs-comment">// Will output protoexample.Test protobuf serialized data</span><br>		c.ProtoBuf(http.StatusOK, data)<br>	&#125;)<br><br>	<span class="hljs-comment">// Listen and serve on 0.0.0.0:8080</span><br>	r.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="SecureJSON"><a href="#SecureJSON" class="headerlink" title="SecureJSON"></a>SecureJSON</h4><p>Using SecureJSON to prevent json hijacking. Default prepends <code>&quot;while(1),&quot;</code> to response body if the given struct is array values.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br><br>	<span class="hljs-comment">// You can also use your own secure json prefix</span><br>	<span class="hljs-comment">// r.SecureJsonPrefix(&quot;)]&#125;&#x27;,\n&quot;)</span><br><br>	r.GET(<span class="hljs-string">&quot;/someJSON&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		names := []<span class="hljs-keyword">string</span>&#123;<span class="hljs-string">&quot;lena&quot;</span>, <span class="hljs-string">&quot;austin&quot;</span>, <span class="hljs-string">&quot;foo&quot;</span>&#125;<br><br>		<span class="hljs-comment">// Will output  :   while(1);[&quot;lena&quot;,&quot;austin&quot;,&quot;foo&quot;]</span><br>		c.SecureJSON(http.StatusOK, names)<br>	&#125;)<br><br>	<span class="hljs-comment">// Listen and serve on 0.0.0.0:8080</span><br>	r.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h4><p>Using JSONP to request data from a server  in a different domain. Add callback to response body if the query parameter callback exists.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br><br>	r.GET(<span class="hljs-string">&quot;/JSONP?callback=x&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		data := <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>&#123;&#125;&#123;<br>			<span class="hljs-string">&quot;foo&quot;</span>: <span class="hljs-string">&quot;bar&quot;</span>,<br>		&#125;<br>		<br>		<span class="hljs-comment">//callback is x</span><br>		<span class="hljs-comment">// Will output  :   x(&#123;\&quot;foo\&quot;:\&quot;bar\&quot;&#125;)</span><br>		c.JSONP(http.StatusOK, data)<br>	&#125;)<br><br>	<span class="hljs-comment">// Listen and serve on 0.0.0.0:8080</span><br>	r.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="AsciiJSON"><a href="#AsciiJSON" class="headerlink" title="AsciiJSON"></a>AsciiJSON</h4><p>Using AsciiJSON to Generates ASCII-only JSON with escaped non-ASCII chracters.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br><br>	r.GET(<span class="hljs-string">&quot;/someJSON&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		data := <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>&#123;&#125;&#123;<br>			<span class="hljs-string">&quot;lang&quot;</span>: <span class="hljs-string">&quot;GO语言&quot;</span>,<br>			<span class="hljs-string">&quot;tag&quot;</span>:  <span class="hljs-string">&quot;&lt;br&gt;&quot;</span>,<br>		&#125;<br><br>		<span class="hljs-comment">// will output : &#123;&quot;lang&quot;:&quot;GO\u8bed\u8a00&quot;,&quot;tag&quot;:&quot;\u003cbr\u003e&quot;&#125;</span><br>		c.AsciiJSON(http.StatusOK, data)<br>	&#125;)<br><br>	<span class="hljs-comment">// Listen and serve on 0.0.0.0:8080</span><br>	r.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="PureJSON"><a href="#PureJSON" class="headerlink" title="PureJSON"></a>PureJSON</h4><p>Normally, JSON replaces special HTML characters with their unicode entities, e.g. <code>&lt;</code> becomes  <code>\u003c</code>. If you want to encode such characters literally, you can use PureJSON instead.<br>This feature is unavailable in Go 1.6 and lower.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br>	<br>	<span class="hljs-comment">// Serves unicode entities</span><br>	r.GET(<span class="hljs-string">&quot;/json&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.JSON(<span class="hljs-number">200</span>, gin.H&#123;<br>			<span class="hljs-string">&quot;html&quot;</span>: <span class="hljs-string">&quot;&lt;b&gt;Hello, world!&lt;/b&gt;&quot;</span>,<br>		&#125;)<br>	&#125;)<br>	<br>	<span class="hljs-comment">// Serves literal characters</span><br>	r.GET(<span class="hljs-string">&quot;/purejson&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.PureJSON(<span class="hljs-number">200</span>, gin.H&#123;<br>			<span class="hljs-string">&quot;html&quot;</span>: <span class="hljs-string">&quot;&lt;b&gt;Hello, world!&lt;/b&gt;&quot;</span>,<br>		&#125;)<br>	&#125;)<br>	<br>	<span class="hljs-comment">// listen and serve on 0.0.0.0:8080</span><br>	r.Run(<span class="hljs-string">&quot;:8080)</span><br><span class="hljs-string">&#125;</span><br></code></pre></td></tr></table></figure>

<h3 id="Serving-static-files"><a href="#Serving-static-files" class="headerlink" title="Serving static files"></a>Serving static files</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br>	router.Static(<span class="hljs-string">&quot;/assets&quot;</span>, <span class="hljs-string">&quot;./assets&quot;</span>)<br>	router.StaticFS(<span class="hljs-string">&quot;/more_static&quot;</span>, http.Dir(<span class="hljs-string">&quot;my_file_system&quot;</span>))<br>	router.StaticFile(<span class="hljs-string">&quot;/favicon.ico&quot;</span>, <span class="hljs-string">&quot;./resources/favicon.ico&quot;</span>)<br><br>	<span class="hljs-comment">// Listen and serve on 0.0.0.0:8080</span><br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Serving-data-from-reader"><a href="#Serving-data-from-reader" class="headerlink" title="Serving data from reader"></a>Serving data from reader</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br>	router.GET(<span class="hljs-string">&quot;/someDataFromReader&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		response, err := http.Get(<span class="hljs-string">&quot;https://raw.githubusercontent.com/gin-gonic/logo/master/color.png&quot;</span>)<br>		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> || response.StatusCode != http.StatusOK &#123;<br>			c.Status(http.StatusServiceUnavailable)<br>			<span class="hljs-keyword">return</span><br>		&#125;<br><br>		reader := response.Body<br>		contentLength := response.ContentLength<br>		contentType := response.Header.Get(<span class="hljs-string">&quot;Content-Type&quot;</span>)<br><br>		extraHeaders := <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">string</span>&#123;<br>			<span class="hljs-string">&quot;Content-Disposition&quot;</span>: <span class="hljs-string">`attachment; filename=&quot;gopher.png&quot;`</span>,<br>		&#125;<br><br>		c.DataFromReader(http.StatusOK, contentLength, contentType, reader, extraHeaders)<br>	&#125;)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="HTML-rendering"><a href="#HTML-rendering" class="headerlink" title="HTML rendering"></a>HTML rendering</h3><p>Using LoadHTMLGlob() or LoadHTMLFiles()</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br>	router.LoadHTMLGlob(<span class="hljs-string">&quot;templates/*&quot;</span>)<br>	<span class="hljs-comment">//router.LoadHTMLFiles(&quot;templates/template1.html&quot;, &quot;templates/template2.html&quot;)</span><br>	router.GET(<span class="hljs-string">&quot;/index&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.HTML(http.StatusOK, <span class="hljs-string">&quot;index.tmpl&quot;</span>, gin.H&#123;<br>			<span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;Main website&quot;</span>,<br>		&#125;)<br>	&#125;)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>templates/index.tmpl</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span><br>		&#123;&#123; .title &#125;&#125;<br>	<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>Using templates with same name in different directories</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br>	router.LoadHTMLGlob(<span class="hljs-string">&quot;templates/**/*&quot;</span>)<br>	router.GET(<span class="hljs-string">&quot;/posts/index&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.HTML(http.StatusOK, <span class="hljs-string">&quot;posts/index.tmpl&quot;</span>, gin.H&#123;<br>			<span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;Posts&quot;</span>,<br>		&#125;)<br>	&#125;)<br>	router.GET(<span class="hljs-string">&quot;/users/index&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.HTML(http.StatusOK, <span class="hljs-string">&quot;users/index.tmpl&quot;</span>, gin.H&#123;<br>			<span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;Users&quot;</span>,<br>		&#125;)<br>	&#125;)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>templates/posts/index.tmpl</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;&#123; define &quot;posts/index.tmpl&quot; &#125;&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span><br>	&#123;&#123; .title &#125;&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Using posts/index.tmpl<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br>&#123;&#123; end &#125;&#125;<br></code></pre></td></tr></table></figure>

<p>templates/users/index.tmpl</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;&#123; define &quot;users/index.tmpl&quot; &#125;&#125;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span><br>	&#123;&#123; .title &#125;&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Using users/index.tmpl<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br>&#123;&#123; end &#125;&#125;<br></code></pre></td></tr></table></figure>

<h4 id="Custom-Template-renderer"><a href="#Custom-Template-renderer" class="headerlink" title="Custom Template renderer"></a>Custom Template renderer</h4><p>You can also use your own html template render</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;html/template&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br>	html := template.Must(template.ParseFiles(<span class="hljs-string">&quot;file1&quot;</span>, <span class="hljs-string">&quot;file2&quot;</span>))<br>	router.SetHTMLTemplate(html)<br>	router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="Custom-Delimiters"><a href="#Custom-Delimiters" class="headerlink" title="Custom Delimiters"></a>Custom Delimiters</h4><p>You may use custom delims</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs go">r := gin.Default()<br>r.Delims(<span class="hljs-string">&quot;&#123;[&#123;&quot;</span>, <span class="hljs-string">&quot;&#125;]&#125;&quot;</span>)<br>r.LoadHTMLGlob(<span class="hljs-string">&quot;/path/to/templates&quot;</span>))<br></code></pre></td></tr></table></figure>

<h4 id="Custom-Template-Funcs"><a href="#Custom-Template-Funcs" class="headerlink" title="Custom Template Funcs"></a>Custom Template Funcs</h4><p>See the detail <a href="examples/template">example code</a>.</p>
<p>main.go</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>    <span class="hljs-string">&quot;html/template&quot;</span><br>    <span class="hljs-string">&quot;net/http&quot;</span><br>    <span class="hljs-string">&quot;time&quot;</span><br><br>    <span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">formatAsDate</span><span class="hljs-params">(t time.Time)</span> <span class="hljs-title">string</span></span> &#123;<br>    year, month, day := t.Date()<br>    <span class="hljs-keyword">return</span> fmt.Sprintf(<span class="hljs-string">&quot;%d%02d/%02d&quot;</span>, year, month, day)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    router := gin.Default()<br>    router.Delims(<span class="hljs-string">&quot;&#123;[&#123;&quot;</span>, <span class="hljs-string">&quot;&#125;]&#125;&quot;</span>)<br>    router.SetFuncMap(template.FuncMap&#123;<br>        <span class="hljs-string">&quot;formatAsDate&quot;</span>: formatAsDate,<br>    &#125;)<br>    router.LoadHTMLFiles(<span class="hljs-string">&quot;./testdata/template/raw.tmpl&quot;</span>)<br><br>    router.GET(<span class="hljs-string">&quot;/raw&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>        c.HTML(http.StatusOK, <span class="hljs-string">&quot;raw.tmpl&quot;</span>, <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>&#123;&#125;&#123;<br>            <span class="hljs-string">&quot;now&quot;</span>: time.Date(<span class="hljs-number">2017</span>, <span class="hljs-number">07</span>, <span class="hljs-number">01</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, time.UTC),<br>        &#125;)<br>    &#125;)<br><br>    router.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>raw.tmpl</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">Date: &#123;[&#123;.now | formatAsDate&#125;]&#125;<br></code></pre></td></tr></table></figure>

<p>Result:</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Date</span>: <span class="hljs-number">2017</span>/<span class="hljs-number">07</span>/<span class="hljs-number">01</span><br></code></pre></td></tr></table></figure>

<h3 id="Multitemplate"><a href="#Multitemplate" class="headerlink" title="Multitemplate"></a>Multitemplate</h3><p>Gin allow by default use only one html.Template. Check <a target="_blank" rel="noopener" href="https://github.com/gin-contrib/multitemplate">a multitemplate render</a> for using features like go 1.6 <code>block template</code>.</p>
<h3 id="Redirects"><a href="#Redirects" class="headerlink" title="Redirects"></a>Redirects</h3><p>Issuing a HTTP redirect is easy. Both internal and external locations are supported.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs go">r.GET(<span class="hljs-string">&quot;/test&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>	c.Redirect(http.StatusMovedPermanently, <span class="hljs-string">&quot;http://www.google.com/&quot;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure>


<p>Issuing a Router redirect, use <code>HandleContext</code> like below.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs go">r.GET(<span class="hljs-string">&quot;/test&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>    c.Request.URL.Path = <span class="hljs-string">&quot;/test2&quot;</span><br>    r.HandleContext(c)<br>&#125;)<br>r.GET(<span class="hljs-string">&quot;/test2&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>    c.JSON(<span class="hljs-number">200</span>, gin.H&#123;<span class="hljs-string">&quot;hello&quot;</span>: <span class="hljs-string">&quot;world&quot;</span>&#125;)<br>&#125;)<br></code></pre></td></tr></table></figure>


<h3 id="Custom-Middleware"><a href="#Custom-Middleware" class="headerlink" title="Custom Middleware"></a>Custom Middleware</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Logger</span><span class="hljs-params">()</span> <span class="hljs-title">gin</span>.<span class="hljs-title">HandlerFunc</span></span> &#123;<br>	<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		t := time.Now()<br><br>		<span class="hljs-comment">// Set example variable</span><br>		c.Set(<span class="hljs-string">&quot;example&quot;</span>, <span class="hljs-string">&quot;12345&quot;</span>)<br><br>		<span class="hljs-comment">// before request</span><br><br>		c.Next()<br><br>		<span class="hljs-comment">// after request</span><br>		latency := time.Since(t)<br>		log.Print(latency)<br><br>		<span class="hljs-comment">// access the status we are sending</span><br>		status := c.Writer.Status()<br>		log.Println(status)<br>	&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.New()<br>	r.Use(Logger())<br><br>	r.GET(<span class="hljs-string">&quot;/test&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		example := c.MustGet(<span class="hljs-string">&quot;example&quot;</span>).(<span class="hljs-keyword">string</span>)<br><br>		<span class="hljs-comment">// it would print: &quot;12345&quot;</span><br>		log.Println(example)<br>	&#125;)<br><br>	<span class="hljs-comment">// Listen and serve on 0.0.0.0:8080</span><br>	r.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Using-BasicAuth-middleware"><a href="#Using-BasicAuth-middleware" class="headerlink" title="Using BasicAuth() middleware"></a>Using BasicAuth() middleware</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// simulate some private data</span><br><span class="hljs-keyword">var</span> secrets = gin.H&#123;<br>	<span class="hljs-string">&quot;foo&quot;</span>:    gin.H&#123;<span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;foo@bar.com&quot;</span>, <span class="hljs-string">&quot;phone&quot;</span>: <span class="hljs-string">&quot;123433&quot;</span>&#125;,<br>	<span class="hljs-string">&quot;austin&quot;</span>: gin.H&#123;<span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;austin@example.com&quot;</span>, <span class="hljs-string">&quot;phone&quot;</span>: <span class="hljs-string">&quot;666&quot;</span>&#125;,<br>	<span class="hljs-string">&quot;lena&quot;</span>:   gin.H&#123;<span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;lena@guapa.com&quot;</span>, <span class="hljs-string">&quot;phone&quot;</span>: <span class="hljs-string">&quot;523443&quot;</span>&#125;,<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br><br>	<span class="hljs-comment">// Group using gin.BasicAuth() middleware</span><br>	<span class="hljs-comment">// gin.Accounts is a shortcut for map[string]string</span><br>	authorized := r.Group(<span class="hljs-string">&quot;/admin&quot;</span>, gin.BasicAuth(gin.Accounts&#123;<br>		<span class="hljs-string">&quot;foo&quot;</span>:    <span class="hljs-string">&quot;bar&quot;</span>,<br>		<span class="hljs-string">&quot;austin&quot;</span>: <span class="hljs-string">&quot;1234&quot;</span>,<br>		<span class="hljs-string">&quot;lena&quot;</span>:   <span class="hljs-string">&quot;hello2&quot;</span>,<br>		<span class="hljs-string">&quot;manu&quot;</span>:   <span class="hljs-string">&quot;4321&quot;</span>,<br>	&#125;))<br><br>	<span class="hljs-comment">// /admin/secrets endpoint</span><br>	<span class="hljs-comment">// hit &quot;localhost:8080/admin/secrets</span><br>	authorized.GET(<span class="hljs-string">&quot;/secrets&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-comment">// get user, it was set by the BasicAuth middleware</span><br>		user := c.MustGet(gin.AuthUserKey).(<span class="hljs-keyword">string</span>)<br>		<span class="hljs-keyword">if</span> secret, ok := secrets[user]; ok &#123;<br>			c.JSON(http.StatusOK, gin.H&#123;<span class="hljs-string">&quot;user&quot;</span>: user, <span class="hljs-string">&quot;secret&quot;</span>: secret&#125;)<br>		&#125; <span class="hljs-keyword">else</span> &#123;<br>			c.JSON(http.StatusOK, gin.H&#123;<span class="hljs-string">&quot;user&quot;</span>: user, <span class="hljs-string">&quot;secret&quot;</span>: <span class="hljs-string">&quot;NO SECRET :(&quot;</span>&#125;)<br>		&#125;<br>	&#125;)<br><br>	<span class="hljs-comment">// Listen and serve on 0.0.0.0:8080</span><br>	r.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Goroutines-inside-a-middleware"><a href="#Goroutines-inside-a-middleware" class="headerlink" title="Goroutines inside a middleware"></a>Goroutines inside a middleware</h3><p>When starting new Goroutines inside a middleware or handler, you <strong>SHOULD NOT</strong> use the original context inside it, you have to use a read-only copy.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br><br>	r.GET(<span class="hljs-string">&quot;/long_async&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-comment">// create copy to be used inside the goroutine</span><br>		cCp := c.Copy()<br>		<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>			<span class="hljs-comment">// simulate a long task with time.Sleep(). 5 seconds</span><br>			time.Sleep(<span class="hljs-number">5</span> * time.Second)<br><br>			<span class="hljs-comment">// note that you are using the copied context &quot;cCp&quot;, IMPORTANT</span><br>			log.Println(<span class="hljs-string">&quot;Done! in path &quot;</span> + cCp.Request.URL.Path)<br>		&#125;()<br>	&#125;)<br><br>	r.GET(<span class="hljs-string">&quot;/long_sync&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-comment">// simulate a long task with time.Sleep(). 5 seconds</span><br>		time.Sleep(<span class="hljs-number">5</span> * time.Second)<br><br>		<span class="hljs-comment">// since we are NOT using a goroutine, we do not have to copy the context</span><br>		log.Println(<span class="hljs-string">&quot;Done! in path &quot;</span> + c.Request.URL.Path)<br>	&#125;)<br><br>	<span class="hljs-comment">// Listen and serve on 0.0.0.0:8080</span><br>	r.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Custom-HTTP-configuration"><a href="#Custom-HTTP-configuration" class="headerlink" title="Custom HTTP configuration"></a>Custom HTTP configuration</h3><p>Use <code>http.ListenAndServe()</code> directly, like this:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br>	http.ListenAndServe(<span class="hljs-string">&quot;:8080&quot;</span>, router)<br>&#125;<br></code></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br><br>	s := &amp;http.Server&#123;<br>		Addr:           <span class="hljs-string">&quot;:8080&quot;</span>,<br>		Handler:        router,<br>		ReadTimeout:    <span class="hljs-number">10</span> * time.Second,<br>		WriteTimeout:   <span class="hljs-number">10</span> * time.Second,<br>		MaxHeaderBytes: <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">20</span>,<br>	&#125;<br>	s.ListenAndServe()<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Support-Let’s-Encrypt"><a href="#Support-Let’s-Encrypt" class="headerlink" title="Support Let’s Encrypt"></a>Support Let’s Encrypt</h3><p>example for 1-line LetsEncrypt HTTPS servers.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;log&quot;</span><br><br>	<span class="hljs-string">&quot;github.com/gin-gonic/autotls&quot;</span><br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br><br>	<span class="hljs-comment">// Ping handler</span><br>	r.GET(<span class="hljs-string">&quot;/ping&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.String(<span class="hljs-number">200</span>, <span class="hljs-string">&quot;pong&quot;</span>)<br>	&#125;)<br><br>	log.Fatal(autotls.Run(r, <span class="hljs-string">&quot;example1.com&quot;</span>, <span class="hljs-string">&quot;example2.com&quot;</span>))<br>&#125;<br></code></pre></td></tr></table></figure>

<p>example for custom autocert manager.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;log&quot;</span><br><br>	<span class="hljs-string">&quot;github.com/gin-gonic/autotls&quot;</span><br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>	<span class="hljs-string">&quot;golang.org/x/crypto/acme/autocert&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br><br>	<span class="hljs-comment">// Ping handler</span><br>	r.GET(<span class="hljs-string">&quot;/ping&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.String(<span class="hljs-number">200</span>, <span class="hljs-string">&quot;pong&quot;</span>)<br>	&#125;)<br><br>	m := autocert.Manager&#123;<br>		Prompt:     autocert.AcceptTOS,<br>		HostPolicy: autocert.HostWhitelist(<span class="hljs-string">&quot;example1.com&quot;</span>, <span class="hljs-string">&quot;example2.com&quot;</span>),<br>		Cache:      autocert.DirCache(<span class="hljs-string">&quot;/var/www/.cache&quot;</span>),<br>	&#125;<br><br>	log.Fatal(autotls.RunWithManager(r, &amp;m))<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Run-multiple-service-using-Gin"><a href="#Run-multiple-service-using-Gin" class="headerlink" title="Run multiple service using Gin"></a>Run multiple service using Gin</h3><p>See the <a target="_blank" rel="noopener" href="https://github.com/gin-gonic/gin/issues/346">question</a> and try the following example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;log&quot;</span><br>	<span class="hljs-string">&quot;net/http&quot;</span><br>	<span class="hljs-string">&quot;time&quot;</span><br><br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>	<span class="hljs-string">&quot;golang.org/x/sync/errgroup&quot;</span><br>)<br><br><span class="hljs-keyword">var</span> (<br>	g errgroup.Group<br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">router01</span><span class="hljs-params">()</span> <span class="hljs-title">http</span>.<span class="hljs-title">Handler</span></span> &#123;<br>	e := gin.New()<br>	e.Use(gin.Recovery())<br>	e.GET(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.JSON(<br>			http.StatusOK,<br>			gin.H&#123;<br>				<span class="hljs-string">&quot;code&quot;</span>:  http.StatusOK,<br>				<span class="hljs-string">&quot;error&quot;</span>: <span class="hljs-string">&quot;Welcome server 01&quot;</span>,<br>			&#125;,<br>		)<br>	&#125;)<br><br>	<span class="hljs-keyword">return</span> e<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">router02</span><span class="hljs-params">()</span> <span class="hljs-title">http</span>.<span class="hljs-title">Handler</span></span> &#123;<br>	e := gin.New()<br>	e.Use(gin.Recovery())<br>	e.GET(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.JSON(<br>			http.StatusOK,<br>			gin.H&#123;<br>				<span class="hljs-string">&quot;code&quot;</span>:  http.StatusOK,<br>				<span class="hljs-string">&quot;error&quot;</span>: <span class="hljs-string">&quot;Welcome server 02&quot;</span>,<br>			&#125;,<br>		)<br>	&#125;)<br><br>	<span class="hljs-keyword">return</span> e<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	server01 := &amp;http.Server&#123;<br>		Addr:         <span class="hljs-string">&quot;:8080&quot;</span>,<br>		Handler:      router01(),<br>		ReadTimeout:  <span class="hljs-number">5</span> * time.Second,<br>		WriteTimeout: <span class="hljs-number">10</span> * time.Second,<br>	&#125;<br><br>	server02 := &amp;http.Server&#123;<br>		Addr:         <span class="hljs-string">&quot;:8081&quot;</span>,<br>		Handler:      router02(),<br>		ReadTimeout:  <span class="hljs-number">5</span> * time.Second,<br>		WriteTimeout: <span class="hljs-number">10</span> * time.Second,<br>	&#125;<br><br>	g.Go(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span> <span class="hljs-title">error</span></span> &#123;<br>		<span class="hljs-keyword">return</span> server01.ListenAndServe()<br>	&#125;)<br><br>	g.Go(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span> <span class="hljs-title">error</span></span> &#123;<br>		<span class="hljs-keyword">return</span> server02.ListenAndServe()<br>	&#125;)<br><br>	<span class="hljs-keyword">if</span> err := g.Wait(); err != <span class="hljs-literal">nil</span> &#123;<br>		log.Fatal(err)<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Graceful-restart-or-stop"><a href="#Graceful-restart-or-stop" class="headerlink" title="Graceful restart or stop"></a>Graceful restart or stop</h3><p>Do you want to graceful restart or stop your web server?<br>There are some ways this can be done.</p>
<p>We can use <a target="_blank" rel="noopener" href="https://github.com/fvbock/endless">fvbock/endless</a> to replace the default <code>ListenAndServe</code>. Refer issue <a target="_blank" rel="noopener" href="https://github.com/gin-gonic/gin/issues/296">#296</a> for more details.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs go">router := gin.Default()<br>router.GET(<span class="hljs-string">&quot;/&quot;</span>, handler)<br><span class="hljs-comment">// [...]</span><br>endless.ListenAndServe(<span class="hljs-string">&quot;:4242&quot;</span>, router)<br></code></pre></td></tr></table></figure>

<p>An alternative to endless:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/braintree/manners">manners</a>: A polite Go HTTP server that shuts down gracefully.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/tylerb/graceful">graceful</a>: Graceful is a Go package enabling graceful shutdown of an http.Handler server.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/facebookgo/grace">grace</a>: Graceful restart &amp; zero downtime deploy for Go servers.</li>
</ul>
<p>If you are using Go 1.8, you may not need to use this library! Consider using http.Server’s built-in <a target="_blank" rel="noopener" href="https://golang.org/pkg/net/http/#Server.Shutdown">Shutdown()</a> method for graceful shutdowns. See the full <a href="./examples/graceful-shutdown">graceful-shutdown</a> example with gin.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// +build go1.8</span><br><br><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;context&quot;</span><br>	<span class="hljs-string">&quot;log&quot;</span><br>	<span class="hljs-string">&quot;net/http&quot;</span><br>	<span class="hljs-string">&quot;os&quot;</span><br>	<span class="hljs-string">&quot;os/signal&quot;</span><br>	<span class="hljs-string">&quot;time&quot;</span><br><br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	router := gin.Default()<br>	router.GET(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		time.Sleep(<span class="hljs-number">5</span> * time.Second)<br>		c.String(http.StatusOK, <span class="hljs-string">&quot;Welcome Gin Server&quot;</span>)<br>	&#125;)<br><br>	srv := &amp;http.Server&#123;<br>		Addr:    <span class="hljs-string">&quot;:8080&quot;</span>,<br>		Handler: router,<br>	&#125;<br><br>	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>		<span class="hljs-comment">// service connections</span><br>		<span class="hljs-keyword">if</span> err := srv.ListenAndServe(); err != <span class="hljs-literal">nil</span> &amp;&amp; err != http.ErrServerClosed &#123;<br>			log.Fatalf(<span class="hljs-string">&quot;listen: %s\n&quot;</span>, err)<br>		&#125;<br>	&#125;()<br><br>	<span class="hljs-comment">// Wait for interrupt signal to gracefully shutdown the server with</span><br>	<span class="hljs-comment">// a timeout of 5 seconds.</span><br>	quit := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> os.Signal)<br>	signal.Notify(quit, os.Interrupt)<br>	&lt;-quit<br>	log.Println(<span class="hljs-string">&quot;Shutdown Server ...&quot;</span>)<br><br>	ctx, cancel := context.WithTimeout(context.Background(), <span class="hljs-number">5</span>*time.Second)<br>	<span class="hljs-keyword">defer</span> cancel()<br>	<span class="hljs-keyword">if</span> err := srv.Shutdown(ctx); err != <span class="hljs-literal">nil</span> &#123;<br>		log.Fatal(<span class="hljs-string">&quot;Server Shutdown:&quot;</span>, err)<br>	&#125;<br>	log.Println(<span class="hljs-string">&quot;Server exiting&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Build-a-single-binary-with-templates"><a href="#Build-a-single-binary-with-templates" class="headerlink" title="Build a single binary with templates"></a>Build a single binary with templates</h3><p>You can build a server into a single binary containing templates by using <a target="_blank" rel="noopener" href="https://github.com/jessevdk/go-assets">go-assets</a>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.New()<br><br>	t, err := loadTemplate()<br>	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>		<span class="hljs-built_in">panic</span>(err)<br>	&#125;<br>	r.SetHTMLTemplate(t)<br><br>	r.GET(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.HTML(http.StatusOK, <span class="hljs-string">&quot;/html/index.tmpl&quot;</span>,<span class="hljs-literal">nil</span>)<br>	&#125;)<br>	r.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br><br><span class="hljs-comment">// loadTemplate loads templates embedded by go-assets-builder</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">loadTemplate</span><span class="hljs-params">()</span> <span class="hljs-params">(*template.Template, error)</span></span> &#123;<br>	t := template.New(<span class="hljs-string">&quot;&quot;</span>)<br>	<span class="hljs-keyword">for</span> name, file := <span class="hljs-keyword">range</span> Assets.Files &#123;<br>		<span class="hljs-keyword">if</span> file.IsDir() || !strings.HasSuffix(name, <span class="hljs-string">&quot;.tmpl&quot;</span>) &#123;<br>			<span class="hljs-keyword">continue</span><br>		&#125;<br>		h, err := ioutil.ReadAll(file)<br>		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err<br>		&#125;<br>		t, err = t.New(name).Parse(<span class="hljs-keyword">string</span>(h))<br>		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err<br>		&#125;<br>	&#125;<br>	<span class="hljs-keyword">return</span> t, <span class="hljs-literal">nil</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>See a complete example in the <code>examples/assets-in-binary</code> directory.</p>
<h3 id="Bind-form-data-request-with-custom-struct"><a href="#Bind-form-data-request-with-custom-struct" class="headerlink" title="Bind form-data request with custom struct"></a>Bind form-data request with custom struct</h3><p>The follow example using custom struct:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> StructA <span class="hljs-keyword">struct</span> &#123;<br>    FieldA <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;field_a&quot;`</span><br>&#125;<br><br><span class="hljs-keyword">type</span> StructB <span class="hljs-keyword">struct</span> &#123;<br>    NestedStruct StructA<br>    FieldB <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;field_b&quot;`</span><br>&#125;<br><br><span class="hljs-keyword">type</span> StructC <span class="hljs-keyword">struct</span> &#123;<br>    NestedStructPointer *StructA<br>    FieldC <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;field_c&quot;`</span><br>&#125;<br><br><span class="hljs-keyword">type</span> StructD <span class="hljs-keyword">struct</span> &#123;<br>    NestedAnonyStruct <span class="hljs-keyword">struct</span> &#123;<br>        FieldX <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;field_x&quot;`</span><br>    &#125;<br>    FieldD <span class="hljs-keyword">string</span> <span class="hljs-string">`form:&quot;field_d&quot;`</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetDataB</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>    <span class="hljs-keyword">var</span> b StructB<br>    c.Bind(&amp;b)<br>    c.JSON(<span class="hljs-number">200</span>, gin.H&#123;<br>        <span class="hljs-string">&quot;a&quot;</span>: b.NestedStruct,<br>        <span class="hljs-string">&quot;b&quot;</span>: b.FieldB,<br>    &#125;)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetDataC</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>    <span class="hljs-keyword">var</span> b StructC<br>    c.Bind(&amp;b)<br>    c.JSON(<span class="hljs-number">200</span>, gin.H&#123;<br>        <span class="hljs-string">&quot;a&quot;</span>: b.NestedStructPointer,<br>        <span class="hljs-string">&quot;c&quot;</span>: b.FieldC,<br>    &#125;)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetDataD</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>    <span class="hljs-keyword">var</span> b StructD<br>    c.Bind(&amp;b)<br>    c.JSON(<span class="hljs-number">200</span>, gin.H&#123;<br>        <span class="hljs-string">&quot;x&quot;</span>: b.NestedAnonyStruct,<br>        <span class="hljs-string">&quot;d&quot;</span>: b.FieldD,<br>    &#125;)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    r := gin.Default()<br>    r.GET(<span class="hljs-string">&quot;/getb&quot;</span>, GetDataB)<br>    r.GET(<span class="hljs-string">&quot;/getc&quot;</span>, GetDataC)<br>    r.GET(<span class="hljs-string">&quot;/getd&quot;</span>, GetDataD)<br><br>    r.Run()<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Using the command <code>curl</code> command result:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-variable">$</span> <span class="hljs-built_in">curl</span> <span class="hljs-string">&quot;http://localhost:8080/getb?field_a=hello&amp;field_b=world&quot;</span><br>&#123;<span class="hljs-string">&quot;a&quot;</span>:&#123;<span class="hljs-string">&quot;FieldA&quot;</span>:<span class="hljs-string">&quot;hello&quot;</span>&#125;,<span class="hljs-string">&quot;b&quot;</span>:<span class="hljs-string">&quot;world&quot;</span>&#125;<br><span class="hljs-variable">$</span> <span class="hljs-built_in">curl</span> <span class="hljs-string">&quot;http://localhost:8080/getc?field_a=hello&amp;field_c=world&quot;</span><br>&#123;<span class="hljs-string">&quot;a&quot;</span>:&#123;<span class="hljs-string">&quot;FieldA&quot;</span>:<span class="hljs-string">&quot;hello&quot;</span>&#125;,<span class="hljs-string">&quot;c&quot;</span>:<span class="hljs-string">&quot;world&quot;</span>&#125;<br><span class="hljs-variable">$</span> <span class="hljs-built_in">curl</span> <span class="hljs-string">&quot;http://localhost:8080/getd?field_x=hello&amp;field_d=world&quot;</span><br>&#123;<span class="hljs-string">&quot;d&quot;</span>:<span class="hljs-string">&quot;world&quot;</span>,<span class="hljs-string">&quot;x&quot;</span>:&#123;<span class="hljs-string">&quot;FieldX&quot;</span>:<span class="hljs-string">&quot;hello&quot;</span>&#125;&#125;<br></code></pre></td></tr></table></figure>

<p><strong>NOTE</strong>: NOT support the follow style struct:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> StructX <span class="hljs-keyword">struct</span> &#123;<br>    X <span class="hljs-keyword">struct</span> &#123;&#125; <span class="hljs-string">`form:&quot;name_x&quot;`</span> <span class="hljs-comment">// HERE have form</span><br>&#125;<br><br><span class="hljs-keyword">type</span> StructY <span class="hljs-keyword">struct</span> &#123;<br>    Y StructX <span class="hljs-string">`form:&quot;name_y&quot;`</span> <span class="hljs-comment">// HERE have form</span><br>&#125;<br><br><span class="hljs-keyword">type</span> StructZ <span class="hljs-keyword">struct</span> &#123;<br>    Z *StructZ <span class="hljs-string">`form:&quot;name_z&quot;`</span> <span class="hljs-comment">// HERE have form</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>In a word, only support nested custom struct which have no <code>form</code> now.</p>
<h3 id="Try-to-bind-body-into-different-structs"><a href="#Try-to-bind-body-into-different-structs" class="headerlink" title="Try to bind body into different structs"></a>Try to bind body into different structs</h3><p>The normal methods for binding request body consumes <code>c.Request.Body</code> and they<br>cannot be called multiple times.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> formA <span class="hljs-keyword">struct</span> &#123;<br>  Foo <span class="hljs-keyword">string</span> <span class="hljs-string">`json:&quot;foo&quot; xml:&quot;foo&quot; binding:&quot;required&quot;`</span><br>&#125;<br><br><span class="hljs-keyword">type</span> formB <span class="hljs-keyword">struct</span> &#123;<br>  Bar <span class="hljs-keyword">string</span> <span class="hljs-string">`json:&quot;bar&quot; xml:&quot;bar&quot; binding:&quot;required&quot;`</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">SomeHandler</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>  objA := formA&#123;&#125;<br>  objB := formB&#123;&#125;<br>  <span class="hljs-comment">// This c.ShouldBind consumes c.Request.Body and it cannot be reused.</span><br>  <span class="hljs-keyword">if</span> errA := c.ShouldBind(&amp;objA); errA == <span class="hljs-literal">nil</span> &#123;<br>    c.String(http.StatusOK, <span class="hljs-string">`the body should be formA`</span>)<br>  <span class="hljs-comment">// Always an error is occurred by this because c.Request.Body is EOF now.</span><br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> errB := c.ShouldBind(&amp;objB); errB == <span class="hljs-literal">nil</span> &#123;<br>    c.String(http.StatusOK, <span class="hljs-string">`the body should be formB`</span>)<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    ...<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>For this, you can use <code>c.ShouldBindBodyWith</code>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">SomeHandler</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>  objA := formA&#123;&#125;<br>  objB := formB&#123;&#125;<br>  <span class="hljs-comment">// This reads c.Request.Body and stores the result into the context.</span><br>  <span class="hljs-keyword">if</span> errA := c.ShouldBindBodyWith(&amp;objA, binding.JSON); errA == <span class="hljs-literal">nil</span> &#123;<br>    c.String(http.StatusOK, <span class="hljs-string">`the body should be formA`</span>)<br>  <span class="hljs-comment">// At this time, it reuses body stored in the context.</span><br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> errB := c.ShouldBindBodyWith(&amp;objB, binding.JSON); errB == <span class="hljs-literal">nil</span> &#123;<br>    c.String(http.StatusOK, <span class="hljs-string">`the body should be formB JSON`</span>)<br>  <span class="hljs-comment">// And it can accepts other formats</span><br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> errB2 := c.ShouldBindBodyWith(&amp;objB, binding.XML); errB2 == <span class="hljs-literal">nil</span> &#123;<br>    c.String(http.StatusOK, <span class="hljs-string">`the body should be formB XML`</span>)<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    ...<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>c.ShouldBindBodyWith</code> stores body into the context before binding. This has<br>a slight impact to performance, so you should not use this method if you are<br>enough to call binding at once.</li>
<li>This feature is only needed for some formats – <code>JSON</code>, <code>XML</code>, <code>MsgPack</code>,<br><code>ProtoBuf</code>. For other formats, <code>Query</code>, <code>Form</code>, <code>FormPost</code>, <code>FormMultipart</code>,<br>can be called by <code>c.ShouldBind()</code> multiple times without any damage to<br>performance (See <a target="_blank" rel="noopener" href="https://github.com/gin-gonic/gin/pull/1341">#1341</a>).</li>
</ul>
<h3 id="http2-server-push"><a href="#http2-server-push" class="headerlink" title="http2 server push"></a>http2 server push</h3><p>http.Pusher is supported only <strong>go1.8+</strong>. See the <a target="_blank" rel="noopener" href="https://blog.golang.org/h2push">golang blog</a> for detail information.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;html/template&quot;</span><br>	<span class="hljs-string">&quot;log&quot;</span><br><br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>)<br><br><span class="hljs-keyword">var</span> html = template.Must(template.New(<span class="hljs-string">&quot;https&quot;</span>).Parse(<span class="hljs-string">`</span><br><span class="hljs-string">&lt;html&gt;</span><br><span class="hljs-string">&lt;head&gt;</span><br><span class="hljs-string">  &lt;title&gt;Https Test&lt;/title&gt;</span><br><span class="hljs-string">  &lt;script src=&quot;/assets/app.js&quot;&gt;&lt;/script&gt;</span><br><span class="hljs-string">&lt;/head&gt;</span><br><span class="hljs-string">&lt;body&gt;</span><br><span class="hljs-string">  &lt;h1 style=&quot;color:red;&quot;&gt;Welcome, Ginner!&lt;/h1&gt;</span><br><span class="hljs-string">&lt;/body&gt;</span><br><span class="hljs-string">&lt;/html&gt;</span><br><span class="hljs-string">`</span>))<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br>	r.Static(<span class="hljs-string">&quot;/assets&quot;</span>, <span class="hljs-string">&quot;./assets&quot;</span>)<br>	r.SetHTMLTemplate(html)<br><br>	r.GET(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		<span class="hljs-keyword">if</span> pusher := c.Writer.Pusher(); pusher != <span class="hljs-literal">nil</span> &#123;<br>			<span class="hljs-comment">// use pusher.Push() to do server push</span><br>			<span class="hljs-keyword">if</span> err := pusher.Push(<span class="hljs-string">&quot;/assets/app.js&quot;</span>, <span class="hljs-literal">nil</span>); err != <span class="hljs-literal">nil</span> &#123;<br>				log.Printf(<span class="hljs-string">&quot;Failed to push: %v&quot;</span>, err)<br>			&#125;<br>		&#125;<br>		c.HTML(<span class="hljs-number">200</span>, <span class="hljs-string">&quot;https&quot;</span>, gin.H&#123;<br>			<span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;success&quot;</span>,<br>		&#125;)<br>	&#125;)<br><br>	<span class="hljs-comment">// Listen and Server in https://127.0.0.1:8080</span><br>	r.RunTLS(<span class="hljs-string">&quot;:8080&quot;</span>, <span class="hljs-string">&quot;./testdata/server.pem&quot;</span>, <span class="hljs-string">&quot;./testdata/server.key&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Define-format-for-the-log-of-routes"><a href="#Define-format-for-the-log-of-routes" class="headerlink" title="Define format for the log of routes"></a>Define format for the log of routes</h3><p>The default log of routes is:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-attr">[GIN-debug]</span> POST   /foo                      --&gt; <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.main</span><span class="hljs-selector-class">.func1</span> (<span class="hljs-number">3</span> handlers)<br><span class="hljs-selector-attr">[GIN-debug]</span> GET    /bar                      --&gt; <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.main</span><span class="hljs-selector-class">.func2</span> (<span class="hljs-number">3</span> handlers)<br><span class="hljs-selector-attr">[GIN-debug]</span> GET    /status                   --&gt; <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.main</span><span class="hljs-selector-class">.func3</span> (<span class="hljs-number">3</span> handlers)<br></code></pre></td></tr></table></figure>

<p>If you want to log this information in given format (e.g. JSON, key values or something else), then you can define this format with <code>gin.DebugPrintRouteFunc</code>.<br>In the example below, we log all routes with standard log package but you can use another log tools that suits of your needs.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;log&quot;</span><br>	<span class="hljs-string">&quot;net/http&quot;</span><br><br>	<span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := gin.Default()<br>	gin.DebugPrintRouteFunc = <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(httpMethod, absolutePath, handlerName <span class="hljs-keyword">string</span>, nuHandlers <span class="hljs-keyword">int</span>)</span></span> &#123;<br>		log.Printf(<span class="hljs-string">&quot;endpoint %v %v %v %v\n&quot;</span>, httpMethod, absolutePath, handlerName, nuHandlers)<br>	&#125;<br><br>	r.POST(<span class="hljs-string">&quot;/foo&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.JSON(http.StatusOK, <span class="hljs-string">&quot;foo&quot;</span>)<br>	&#125;)<br><br>	r.GET(<span class="hljs-string">&quot;/bar&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.JSON(http.StatusOK, <span class="hljs-string">&quot;bar&quot;</span>)<br>	&#125;)<br><br>	r.GET(<span class="hljs-string">&quot;/status&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.JSON(http.StatusOK, <span class="hljs-string">&quot;ok&quot;</span>)<br>	&#125;)<br><br>	<span class="hljs-comment">// Listen and Server in http://0.0.0.0:8080</span><br>	r.Run()<br>&#125;<br></code></pre></td></tr></table></figure>


<h2 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h2><p>The <code>net/http/httptest</code> package is preferable way for HTTP testing.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">setupRouter</span><span class="hljs-params">()</span> *<span class="hljs-title">gin</span>.<span class="hljs-title">Engine</span></span> &#123;<br>	r := gin.Default()<br>	r.GET(<span class="hljs-string">&quot;/ping&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> &#123;<br>		c.String(<span class="hljs-number">200</span>, <span class="hljs-string">&quot;pong&quot;</span>)<br>	&#125;)<br>	<span class="hljs-keyword">return</span> r<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	r := setupRouter()<br>	r.Run(<span class="hljs-string">&quot;:8080&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Test for code example above:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;net/http&quot;</span><br>	<span class="hljs-string">&quot;net/http/httptest&quot;</span><br>	<span class="hljs-string">&quot;testing&quot;</span><br><br>	<span class="hljs-string">&quot;github.com/stretchr/testify/assert&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">TestPingRoute</span><span class="hljs-params">(t *testing.T)</span></span> &#123;<br>	router := setupRouter()<br><br>	w := httptest.NewRecorder()<br>	req, _ := http.NewRequest(<span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-string">&quot;/ping&quot;</span>, <span class="hljs-literal">nil</span>)<br>	router.ServeHTTP(w, req)<br><br>	assert.Equal(t, <span class="hljs-number">200</span>, w.Code)<br>	assert.Equal(t, <span class="hljs-string">&quot;pong&quot;</span>, w.Body.String())<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Users"><a href="#Users" class="headerlink" title="Users"></a>Users</h2><p>Awesome project lists using <a target="_blank" rel="noopener" href="https://github.com/gin-gonic/gin">Gin</a> web framework.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/drone/drone">drone</a>: Drone is a Continuous Delivery platform built on Docker, written in Go.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/appleboy/gorush">gorush</a>: A push notification server written in Go.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/fnproject/fn">fnproject</a>: The container native, cloud agnostic serverless platform.</li>
</ul>

  </article>

  
      
    <div class="nexmoe-post-copyright">
        <strong>本文作者：</strong>Mark Hoo<br>
        <strong>本文链接：</strong><a href="https://markhoo.com/2018/10/12/gin/" title="https:&#x2F;&#x2F;markhoo.com&#x2F;2018&#x2F;10&#x2F;12&#x2F;gin&#x2F;" target="_blank" rel="noopener">https:&#x2F;&#x2F;markhoo.com&#x2F;2018&#x2F;10&#x2F;12&#x2F;gin&#x2F;</a><br>
        
            <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
        
    </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
    
        <a class="nexmoefont icon-appstore-fill -link" href="/categories/Go/">Go</a>
    
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/Gin/" rel="tag">Gin</a> <a class="nexmoefont icon-tag-fill -none-link" href="/tags/Go/" rel="tag">Go</a>
    
</div>

  
      <div class="nexmoe-post-footer">
          <section class="nexmoe-comment">
    <div class="valine"></div>
<script src='https://cdn.jsdelivr.net/npm/valine'></script>
<script>
    // 使用方法 https://valine.js.org/quickstart.html
    new Valine({
        el: '.valine',
        appId: 'm4swDl6Cqyi5Sa2Yy9iI55Ua-gzGzoHsz',
        appKey: 'B87aHCj28LivcwqIQNvh5uCb'
    })
</script>
</section>
      </div>
  
</div>
            <div class="nexmoe-post-right">
              <div class="nexmoe-fixed">
                  <div class="nexmoe-tool"> 
                    
                      
                        
                          
                          
                              <button class="mdui-fab catalog" style="overflow:unset;">
                                  <i class="nexmoefont icon-i-catalog"></i>
                                  <div class="nexmoe-toc">
                                      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Installation"><span class="toc-number">1.</span> <span class="toc-text">Installation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-a-vendor-tool-like-Govendor"><span class="toc-number">1.1.</span> <span class="toc-text">Use a vendor tool like Govendor</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Prerequisite"><span class="toc-number">2.</span> <span class="toc-text">Prerequisite</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Quick-start"><span class="toc-number">3.</span> <span class="toc-text">Quick start</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Benchmarks"><span class="toc-number">4.</span> <span class="toc-text">Benchmarks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gin-v1-stable"><span class="toc-number">5.</span> <span class="toc-text">Gin v1. stable</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Build-with-jsoniter"><span class="toc-number">6.</span> <span class="toc-text">Build with jsoniter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#API-Examples"><span class="toc-number">7.</span> <span class="toc-text">API Examples</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-GET-POST-PUT-PATCH-DELETE-and-OPTIONS"><span class="toc-number">7.1.</span> <span class="toc-text">Using GET, POST, PUT, PATCH, DELETE and OPTIONS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Parameters-in-path"><span class="toc-number">7.2.</span> <span class="toc-text">Parameters in path</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Querystring-parameters"><span class="toc-number">7.3.</span> <span class="toc-text">Querystring parameters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Multipart-Urlencoded-Form"><span class="toc-number">7.4.</span> <span class="toc-text">Multipart&#x2F;Urlencoded Form</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Another-example-query-post-form"><span class="toc-number">7.5.</span> <span class="toc-text">Another example: query + post form</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-as-querystring-or-postform-parameters"><span class="toc-number">7.6.</span> <span class="toc-text">Map as querystring or postform parameters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Upload-files"><span class="toc-number">7.7.</span> <span class="toc-text">Upload files</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Single-file"><span class="toc-number">7.7.1.</span> <span class="toc-text">Single file</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Multiple-files"><span class="toc-number">7.7.2.</span> <span class="toc-text">Multiple files</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Grouping-routes"><span class="toc-number">7.8.</span> <span class="toc-text">Grouping routes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Blank-Gin-without-middleware-by-default"><span class="toc-number">7.9.</span> <span class="toc-text">Blank Gin without middleware by default</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-middleware"><span class="toc-number">7.10.</span> <span class="toc-text">Using middleware</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-to-write-log-file"><span class="toc-number">7.11.</span> <span class="toc-text">How to write log file</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Model-binding-and-validation"><span class="toc-number">7.12.</span> <span class="toc-text">Model binding and validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Custom-Validators"><span class="toc-number">7.13.</span> <span class="toc-text">Custom Validators</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Only-Bind-Query-String"><span class="toc-number">7.14.</span> <span class="toc-text">Only Bind Query String</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bind-Query-String-or-Post-Data"><span class="toc-number">7.15.</span> <span class="toc-text">Bind Query String or Post Data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bind-HTML-checkboxes"><span class="toc-number">7.16.</span> <span class="toc-text">Bind HTML checkboxes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Multipart-Urlencoded-binding"><span class="toc-number">7.17.</span> <span class="toc-text">Multipart&#x2F;Urlencoded binding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XML-JSON-YAML-and-ProtoBuf-rendering"><span class="toc-number">7.18.</span> <span class="toc-text">XML, JSON, YAML and ProtoBuf rendering</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SecureJSON"><span class="toc-number">7.18.1.</span> <span class="toc-text">SecureJSON</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSONP"><span class="toc-number">7.18.2.</span> <span class="toc-text">JSONP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AsciiJSON"><span class="toc-number">7.18.3.</span> <span class="toc-text">AsciiJSON</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PureJSON"><span class="toc-number">7.18.4.</span> <span class="toc-text">PureJSON</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serving-static-files"><span class="toc-number">7.19.</span> <span class="toc-text">Serving static files</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serving-data-from-reader"><span class="toc-number">7.20.</span> <span class="toc-text">Serving data from reader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTML-rendering"><span class="toc-number">7.21.</span> <span class="toc-text">HTML rendering</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Custom-Template-renderer"><span class="toc-number">7.21.1.</span> <span class="toc-text">Custom Template renderer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Custom-Delimiters"><span class="toc-number">7.21.2.</span> <span class="toc-text">Custom Delimiters</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Custom-Template-Funcs"><span class="toc-number">7.21.3.</span> <span class="toc-text">Custom Template Funcs</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Multitemplate"><span class="toc-number">7.22.</span> <span class="toc-text">Multitemplate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Redirects"><span class="toc-number">7.23.</span> <span class="toc-text">Redirects</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Custom-Middleware"><span class="toc-number">7.24.</span> <span class="toc-text">Custom Middleware</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-BasicAuth-middleware"><span class="toc-number">7.25.</span> <span class="toc-text">Using BasicAuth() middleware</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Goroutines-inside-a-middleware"><span class="toc-number">7.26.</span> <span class="toc-text">Goroutines inside a middleware</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Custom-HTTP-configuration"><span class="toc-number">7.27.</span> <span class="toc-text">Custom HTTP configuration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Support-Let%E2%80%99s-Encrypt"><span class="toc-number">7.28.</span> <span class="toc-text">Support Let’s Encrypt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Run-multiple-service-using-Gin"><span class="toc-number">7.29.</span> <span class="toc-text">Run multiple service using Gin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Graceful-restart-or-stop"><span class="toc-number">7.30.</span> <span class="toc-text">Graceful restart or stop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Build-a-single-binary-with-templates"><span class="toc-number">7.31.</span> <span class="toc-text">Build a single binary with templates</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bind-form-data-request-with-custom-struct"><span class="toc-number">7.32.</span> <span class="toc-text">Bind form-data request with custom struct</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Try-to-bind-body-into-different-structs"><span class="toc-number">7.33.</span> <span class="toc-text">Try to bind body into different structs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http2-server-push"><span class="toc-number">7.34.</span> <span class="toc-text">http2 server push</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Define-format-for-the-log-of-routes"><span class="toc-number">7.35.</span> <span class="toc-text">Define format for the log of routes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Testing"><span class="toc-number">8.</span> <span class="toc-text">Testing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Users"><span class="toc-number">9.</span> <span class="toc-text">Users</span></a></li></ol>
                                  </div>
                              </button>
                          
                          
                      
                    
                      <a href="#nexmoe-content" class="toc-link" aria-label="回到顶部" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
                  </div>
              </div>
            </div>
        </div>
    </div>
     
    <div id="nexmoe-search-space">
        <div class="search-container">
            <div class="search-header">
                <div class="search-input-container">
                    <input class="search-input" type="text" placeholder="搜索" oninput="sinput();">
                </div>
                <a class="search-close" onclick="sclose();">×</a>
            </div>
            <div class="search-body"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js?v=1"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

 

<script async src="/js/app.js?v=1662528173201"></script>



<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"></script>
<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>


    





</body>

</html>
